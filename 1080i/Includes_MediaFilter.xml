<?xml version="1.0" encoding="UTF-8"?>
<includes>

    <include name="MediaFilter_Node">
        <control type="group">
            <include>Dimension_DialogSideMenu</include>
            <include>Animation_Right</include>
            <visible>$EXP[Exp_ViewDialog_HasFocus]</visible>
            
            <include content="Dialog_Foreground_Side">
                <param name="dialog_size">Dimension_DialogSideMenu</param>
                <param name="topline">true</param>
                <param name="subline">false</param>

                <include content="Dialog_Head">
                    <param name="label">$LOCALIZE[587]</param>
                </include>
                <include content="Dialog_Head_CloseButton">
                    <param name="onclick">SetFocus(68)</param>
                </include>
                <control type="group" id="9000">
                    <include>Dimension_Dialog_Body</include>
                    <control type="grouplist" id="9015">
                        <bottom>-40</bottom>
                        <include>Dimension_Dialog_Body_Group</include>
                        <onleft>68</onleft>
                        <onback>68</onback>
                        <onup>SetFocus(6000,2)</onup>
                        <ondown condition="Player.HasMedia">SetFocus(6099,2,absolute)</ondown>
                        <ondown condition="!Window.IsVisible(MyPlaylist.xml) + !Player.HasMedia">9005</ondown>
                        <ondown condition="Window.IsVisible(MyPlaylist.xml) + !Player.HasMedia">20</ondown>
                        <include content="Settings_Button">
                            <param name="id">9019</param>
                            <param name="control">button</param>
                            <param name="dialog">true</param>
                            <label>$LOCALIZE[369]</label>
                            <label2>$INFO[Control.GetLabel(19).index(1)]</label2>
                            <onclick>SetFocus(19)</onclick>
                            <onclick>Action(Select)</onclick>
                            <onclick>SetFocus(9019)</onclick>
                            <ondown>9018</ondown>
                            <onup>SetFocus(6000,2)</onup>
                        </include>
                        <control type="group" id="9029">
                            <height>40</height>
                            <control type="image">
                                <centertop>50%</centertop>
                                <height>1</height>
                                <texture colordiffuse="$VAR[Color_DialogBorder]">common/white.png</texture>
                                <left>20</left>
                                <right>20</right>
                            </control>
                        </control>
                        <control type="group" id="9118">
                            <height>80</height>
                            <left>40</left>
                            <right>40</right>
                            <visible>!$EXP[Exp_IsAlphabetStrip]</visible>
                            <control type="label">
                                <textcolor>dialog_fg_70</textcolor>
                                <align>left</align>
                                <label>$INFO[Container.SortMethod]</label>
                            </control>
                            <control type="label">
                                <textcolor>dialog_fg_70</textcolor>
                                <align>right</align>
                                <label fallback="231">$VAR[Label_SortLetter]</label>
                            </control>
                        </control>
                        <include content="Settings_Button">
                            <param name="id">9018</param>
                            <param name="control">button</param>
                            <param name="dialog">true</param>
                            <onclick>SetFocus(68)</onclick>
                            <onleft>SetFocus(50)</onleft>
                            <onleft>Action(prevletter)</onleft>
                            <onleft>SetFocus(9020,$VAR[Action_Letter_Position],absolute)</onleft>
                            <onleft>SetFocus(9018)</onleft>
                            <onright>SetFocus(50)</onright>
                            <onright>Action(nextletter)</onright>
                            <onright>SetFocus(9020,$VAR[Action_Letter_Position],absolute)</onright>
                            <onright>SetFocus(9018)</onright>
                            <visible>$EXP[Exp_IsAlphabetStrip]</visible>
                        </include>
                        <include content="Settings_Button">
                            <param name="id">9012</param>
                            <param name="control">button</param>
                            <param name="dialog">true</param>
                            <onclick>SetFocus(68)</onclick>
                            <onleft>pageup(60)</onleft>
                            <onleft>SetFocus(9020,$VAR[Action_Letter_Position],absolute)</onleft>
                            <onleft>SetFocus(9012)</onleft>
                            <onright>pagedown(60)</onright>
                            <onright>SetFocus(9020,$VAR[Action_Letter_Position],absolute)</onright>
                            <onright>SetFocus(9012)</onright>
                        </include>
                        <control type="group" id="9017">
                            <height>40</height>
                        </control>
                    </control>
                    <include content="Object_Control">
                        <param name="control">group</param>
                        <visible>!Player.HasMedia + !String.IsEmpty(Window(Home).Property(TMDbHelper.ListItem.base_fanart))</visible>
                        <top>330</top>
                        <bottom>20</bottom>
                        <left>40</left>
                        <right>40</right>
                        <include content="Dialog_Outline_Box">
                            <height>80</height>
                            <control type="image">
                                <texture diffuse="diffuse/banner_w560_h100.png" colordiffuse="main_logo" background="true">$VAR[Image_ContextFanart]</texture>
                                <aspectratio scalediffuse="false">scale</aspectratio>
                            </control>
                            <control type="group">
                                <include content="Dimension_Padding">
                                    <param name="pad">20</param>
                                </include>
                                <control type="image">
                                    <texture background="true">$VAR[Image_ContextClearlogo]</texture>
                                    <aspectratio>keep</aspectratio>
                                    <left>20</left>
                                    <right>20</right>
                                </control>
                            </control>
                        </include>
                    </include>
                    <control type="group">
                        <top>330</top>
                        <height>80</height>
                        <left>20</left>
                        <visible>Player.HasMedia</visible>
                        <include content="ButtonMenu_MediaTray">
                            <onup>9012</onup>
                            <ondown condition="!Window.IsVisible(MyPlaylist.xml)">9005</ondown>
                            <ondown condition="Window.IsVisible(MyPlaylist.xml)">20</ondown>
                        </include>
                    </control>
                    <control type="grouplist" id="9004">
                        <top>430</top>
                        <include>Dimension_Dialog_Body_Group</include>
                        <height>320</height>
                        <onleft>68</onleft>
                        <onback>68</onback>
                        <onup condition="Player.HasMedia">SetFocus(6099,2,absolute)</onup>
                        <onup condition="!Player.HasMedia">9012</onup>
                        <ondown condition="!Window.IsVisible(MyPlaylist.xml) + Integer.IsGreater(Container(9004).NumItems,5)">RunScript(script.skinvariables,"run_executebuiltin=special://skin/shortcuts/builtins/skinvariables-mediafilter-refocus.json",use_rules)</ondown>
                        <ondown condition="[Window.IsVisible(MyPlaylist.xml) | !Integer.IsGreater(Container(9004).NumItems,5)]">SetFocus(6000,2)</ondown>
                        
                        <!-- Filter -->
                        <include content="Settings_ButtonImage" condition="!Window.IsVisible(MyPlaylist.xml)">
                            <param name="id">9005</param>
                            <param name="groupid">9105</param>
                            <param name="control">button</param>
                            <param name="dialog">true</param>
                            <param name="icon">$VAR[Image_Filtered]</param>
                            <label>$LOCALIZE[587]</label>
                            <visible>Container.CanFilterAdvanced</visible>
                            <onclick>Filter</onclick>
                        </include>
                        
                        <!-- Clear filter -->
                        <include content="Settings_ButtonImage" condition="!Window.IsVisible(MyPlaylist.xml)">
                            <param name="id">9006</param>
                            <param name="groupid">9106</param>
                            <param name="control">button</param>
                            <param name="dialog">true</param>
                            <param name="icon">special://skin/extras/icons/triangle-exclamation.png</param>
                            <label>$LOCALIZE[192]</label>
                            <visible>!Container.CanFilterAdvanced</visible>
                            <onclick>RunScript(script.skinvariables,set_editcontrol=19,window_id=1105,setfocus=9001)</onclick>
                            <onclick>ClearProperty(MediaFilter.Genre)</onclick>
                            <onclick>ClearProperty(MediaFilter.Studio)</onclick>
                            <onclick>ClearProperty(MediaFilter.Country)</onclick>
                            <onclick>ClearProperty(MediaFilter.MPAA)</onclick>
                            <onclick>ClearProperty(MediaFilter.Director)</onclick>
                            <onclick>ClearProperty(MediaFilter.Writer)</onclick>
                        </include>
                        
                        <!-- Watched -->
                        <include content="Settings_ButtonImage" condition="!Window.IsVisible(MyPlaylist.xml)">
                            <param name="id">9007</param>
                            <param name="groupid">9107</param>
                            <param name="control">button</param>
                            <param name="dialog">true</param>
                            <param name="icon">$VAR[Image_Watched]</param>
                            <width>dialog_main_button_w</width>
                            <label>$LOCALIZE[20367]</label>
                            <onclick>SendClick(14)</onclick>
                            <visible>Window.IsVisible(videos)</visible>
                        </include>
                        
                        <!-- Sort -->
                        <include content="Settings_Button" condition="!Window.IsVisible(MyPlaylist.xml)">
                            <param name="id">9008</param>
                            <param name="groupid">9108</param>
                            <param name="control">button</param>
                            <param name="dialog">true</param>
                            <width>dialog_main_button_w</width>
                            <label>$LOCALIZE[31048]</label>
                            <label2>$VAR[Label_SortMethod]</label2>
                            <onclick>SetProperty(DialogSelectType,Menu,Home)</onclick>
                            <onclick condition="![Window.IsMedia + String.IsEqual(Container.FolderName,Skin Variables) + !String.IsEmpty(Window.Property(MediaFilter.BaseDir.Name))]">SendClick(3)</onclick>
                            <onclick condition="Window.IsMedia + String.IsEqual(Container.FolderName,Skin Variables) + !String.IsEmpty(Window.Property(MediaFilter.BaseDir.Name))">RunScript(script.skinvariables,run_dialog=select,heading=$LOCALIZE[581],separator=||,list=title||genre||year||rating||playcount||director||originaltitle||lastplayed||writer||studio||mpaa||country||premiered||top250||votes,"executebuiltin=SetProperty(MediaFilter.SortBy,{v})||route=run_executebuiltin=special://skin/shortcuts/builtins/skinvariables-mediafilter.json&amp;use_rules=True")</onclick>
                        </include>
                        
                        <!-- Order -->
                        <include content="Settings_Button" condition="!Window.IsVisible(MyPlaylist.xml)">
                            <param name="id">9009</param>
                            <param name="groupid">9109</param>
                            <param name="control">button</param>
                            <param name="dialog">true</param>
                            <width>dialog_main_button_w</width>
                            <label>$LOCALIZE[31345]</label>
                            <label2>$VAR[Label_SortDirection]</label2>
                            <onclick>SetProperty(DialogSelectType,Menu,Home)</onclick>
                            <onclick condition="![Window.IsMedia + String.IsEqual(Container.FolderName,Skin Variables) + !String.IsEmpty(Window.Property(MediaFilter.BaseDir.Name))]">SendClick(4)</onclick>
                            <onclick condition="!String.IsEqual(Window.Property(MediaFilter.SortHow),desc) + Window.IsMedia + String.IsEqual(Container.FolderName,Skin Variables) + !String.IsEmpty(Window.Property(MediaFilter.BaseDir.Name))">SetProperty(MediaFilter.SortHow,desc)</onclick>
                            <onclick condition="String.IsEqual(Window.Property(MediaFilter.SortHow),desc) + Window.IsMedia + String.IsEqual(Container.FolderName,Skin Variables) + !String.IsEmpty(Window.Property(MediaFilter.BaseDir.Name))">ClearProperty(MediaFilter.SortHow)</onclick>
                            <onclick condition="Window.IsMedia + String.IsEqual(Container.FolderName,Skin Variables) + !String.IsEmpty(Window.Property(MediaFilter.BaseDir.Name))">RunScript(script.skinvariables,"run_executebuiltin=special://skin/shortcuts/builtins/skinvariables-mediafilter.json",use_rules)</onclick>
                        </include>
                        
                        <!-- Update Library --->
                        <include content="Settings_ButtonImage" condition="!Window.IsVisible(favouritesbrowser) + !Window.IsVisible(MyPlaylist.xml)">
                            <param name="id">9010</param>
                            <param name="groupid">9110</param>
                            <param name="control">button</param>
                            <param name="dialog">true</param>
                            <param name="icon">$VAR[Image_UpdateLibrary]</param>
                            <width>dialog_main_button_w</width>
                            <label>$VAR[Label_UpdateLibrary]</label>
                            <visible>!Container.Content(addons) + String.IsEmpty(Container.PluginName) + [Window.IsVisible(videos) | Window.IsVisible(music)]</visible>
                            <onclick>SetFocus($VAR[Action_View_ContentID])</onclick>
                            <onclick condition="Window.IsVisible(videos)">UpdateLibrary(video)</onclick>
                            <onclick condition="Window.IsVisible(music)">UpdateLibrary(music)</onclick>
                        </include>
                        
                        <!-- View -->
                        <include content="Settings_Button" condition="!Window.IsVisible(favouritesbrowser) + !Window.IsVisible(MyPlaylist.xml)">
                            <param name="id">9011</param>
                            <param name="groupid">9111</param>
                            <param name="control">button</param>
                            <param name="dialog">true</param>
                            <width>dialog_main_button_w</width>
                            <label>$LOCALIZE[31319]</label>
                            <label2>$INFO[Container.ViewMode]</label2>
                            <onclick>ClearProperty(MediaFilterBase)</onclick>
                            <onclick>ClearProperty(MediaFilterWall)</onclick>
                            <onclick>Runscript(script.skinvariables,action=buildviews,contentid=$VAR[Items_ViewMode_Switch],pluginname=$INFO[Container.PluginName])</onclick>
                        </include>
                        
                        <!-- Shuffle -->
                        <include content="Settings_ButtonImage" condition="Window.IsVisible(MyPlaylist.xml)">
                            <param name="id">20</param>
                            <param name="groupid">9120</param>
                            <param name="control">button</param>
                            <param name="dialog">true</param>
                            <param name="icon">$VAR[Image_OSD_Shuffle]</param>
                            <width>dialog_main_button_w</width>
                            <label>$LOCALIZE[191]</label>
                        </include>
                        
                        <!-- Repeat -->
                        <include content="Settings_ButtonImage" condition="Window.IsVisible(MyPlaylist.xml)">
                            <param name="id">26</param>
                            <param name="groupid">9126</param>
                            <param name="control">button</param>
                            <param name="dialog">true</param>
                            <param name="icon">$VAR[Image_OSD_Repeat]</param>
                            <width>dialog_main_button_w</width>
                            <label>$LOCALIZE[486]</label>
                        </include>
                        
                        <!-- Save -->
                        <include content="Settings_ButtonImage" condition="Window.IsVisible(MyPlaylist.xml)">
                            <param name="id">21</param>
                            <param name="groupid">9121</param>
                            <param name="control">button</param>
                            <param name="dialog">true</param>
                            <param name="icon">special://skin/extras/icons/floppy-disk.png</param>
                            <width>dialog_main_button_w</width>
                            <label>$LOCALIZE[190]</label>
                        </include>
                        
                        <!-- Clear -->
                        <include content="Settings_ButtonImage" condition="Window.IsVisible(MyPlaylist.xml)">
                            <param name="id">22</param>
                            <param name="groupid">9122</param>
                            <param name="control">button</param>
                            <param name="dialog">true</param>
                            <param name="icon">special://skin/extras/icons/triangle-exclamation.png</param>
                            <width>dialog_main_button_w</width>
                            <label>$LOCALIZE[192]</label>
                        </include>
                    </control>
                    <control type="group">
                        <include>Dimension_Dialog_Body_Group</include>
                        <control type="group">
                            <include>ButtonMenu_BottomTray</include>
                        </control>
                    </control>
                    <control type="group">
                        <height>40</height>
                        <centertop>260</centertop>
                        <left>50</left>
                        <right>50</right>
                        <control type="image">
                            <height>1</height>
                            <bottom>-40</bottom>
                            <texture colordiffuse="$VAR[Color_DialogBorder]">common/white.png</texture>
                        </control>
                        <control type="image">
                            <height>1</height>
                            <bottom>-140</bottom>
                            <texture colordiffuse="$VAR[Color_DialogBorder]">common/white.png</texture>
                        </control>
                        <control type="image">
                            <left>10</left>
                            <right>10</right>
                            <height>16</height>
                            <texture border="16,0,16,0" colordiffuse="$VAR[Color_ViewScrollBar]">progress/back.png</texture>
                            <centertop>50%</centertop>
                            <animation effect="fade" start="100" end="20" condition="true">Conditional</animation>
                        </control>
                        <control type="scrollbar" id="60">
                            <orientation>horizontal</orientation>
                            <visible>!String.IsEmpty(Window.Property(MediaFilterBase))</visible>
                            <height>64</height>
                            <onback>9094</onback>
                            <centertop>50%</centertop>
                            <left>-16</left>
                            <right>32</right>
                            <onup>9018</onup>
                            <ondown>9008</ondown>
                            <texturesliderbackground />
                            <texturesliderbar colordiffuse="$VAR[Color_ViewScrollBar]" border="0,0,64,0">progress/scroll_nib.png</texturesliderbar>
                            <texturesliderbarfocus colordiffuse="$VAR[Color_ViewScrollBar]" border="0,0,64,0">progress/scroll_nib.png</texturesliderbarfocus>
                        </control>
                    </control>
                    <include>MediaFilter_Alphabet_Scroll</include>
                </control>
            </include>
        </control>
    </include>

    <include name="MediaFilter_Alphabet_Scroll">
        <control type="fixedlist" id="9020">
            <orientation>horizontal</orientation>
            <height>80</height>
            <top>140</top>
            <focusposition>5</focusposition>
            <movement>5</movement>
            <width>462</width>
            <centerleft>50%</centerleft>

            <visible>$EXP[Exp_IsAlphabetStrip]</visible>

            <itemlayout width="42">
                <control type="label">
                    <font>font_main</font>
                    <label>$INFO[ListItem.Label]</label>
                    <textcolor>dialog_fg_70</textcolor>
                    <align>center</align>
                    <visible>!Control.HasFocus(9018)</visible>
                </control>
                <control type="label">
                    <font>font_main</font>
                    <label>$INFO[ListItem.Label]</label>
                    <textcolor>$VAR[ColorSelected]</textcolor>
                    <align>center</align>
                    <visible>Control.HasFocus(9018)</visible>
                </control>
            </itemlayout>

            <focusedlayout width="42">
                <control type="label">
                    <font>font_main_bold</font>
                    <label>$INFO[ListItem.Label]</label>
                    <textcolor>$VAR[ColorSelected]</textcolor>
                    <align>center</align>
                    <visible>Control.HasFocus(9018)</visible>
                </control>
                <control type="label">
                    <font>font_main_bold</font>
                    <label>$INFO[ListItem.Label]</label>
                    <textcolor>dialog_fg_70</textcolor>
                    <align>center</align>
                    <visible>Control.HasFocus(9012)</visible>
                </control>
                <control type="label">
                    <font>font_main</font>
                    <label>$INFO[ListItem.Label]</label>
                    <textcolor>dialog_fg_70</textcolor>
                    <align>center</align>
                    <visible>![Control.HasFocus(9018) | Control.HasFocus(9012)]</visible>
                </control>
            </focusedlayout>

            <content>
                <item>
                    <label>#</label>
                </item>
                <item>
                    <label>A</label>
                </item>
                <item>
                    <label>B</label>
                </item>
                <item>
                    <label>C</label>
                </item>
                <item>
                    <label>D</label>
                </item>
                <item>
                    <label>E</label>
                </item>
                <item>
                    <label>F</label>
                </item>
                <item>
                    <label>G</label>
                </item>
                <item>
                    <label>H</label>
                </item>
                <item>
                    <label>I</label>
                </item>
                <item>
                    <label>J</label>
                </item>
                <item>
                    <label>K</label>
                </item>
                <item>
                    <label>L</label>
                </item>
                <item>
                    <label>M</label>
                </item>
                <item>
                    <label>N</label>
                </item>
                <item>
                    <label>O</label>
                </item>
                <item>
                    <label>P</label>
                </item>
                <item>
                    <label>Q</label>
                </item>
                <item>
                    <label>R</label>
                </item>
                <item>
                    <label>S</label>
                </item>
                <item>
                    <label>T</label>
                </item>
                <item>
                    <label>U</label>
                </item>
                <item>
                    <label>V</label>
                </item>
                <item>
                    <label>W</label>
                </item>
                <item>
                    <label>X</label>
                </item>
                <item>
                    <label>Y</label>
                </item>
                <item>
                    <label>Z</label>
                </item>
            </content>
        </control>
    </include>

</includes>
