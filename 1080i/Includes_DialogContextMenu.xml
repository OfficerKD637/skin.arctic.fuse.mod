<?xml version="1.0" encoding="UTF-8"?>
<includes>

    <variable name="Dialog_ContextMenu_SideButtons_WikiTitle">
        <value condition="!String.IsEmpty(Window(Home).Property(TMDbHelper.ListItem.base_tvshowtitle))">$ESCINFO[Window(Home).Property(TMDbHelper.ListItem.base_tvshowtitle)]</value>
        <value condition="!String.IsEmpty(Window(Home).Property(TMDbHelper.ListItem.base_title))">$ESCINFO[Window(Home).Property(TMDbHelper.ListItem.base_title)]</value>
        <value condition="!String.IsEmpty(Window(Home).Property(TMDbHelper.ListItem.base_label))">$ESCINFO[Window(Home).Property(TMDbHelper.ListItem.base_label)]</value>
    </variable>

    <variable name="Dialog_ContextMenu_SideButtons_WikiType">
        <value condition="String.IsEqual(Window(Home).Property(TMDbHelper.ListItem.base_dbtype),tvshow) | String.IsEqual(Window(Home).Property(TMDbHelper.ListItem.base_dbtype),season) | String.IsEqual(Window(Home).Property(TMDbHelper.ListItem.base_dbtype),episode)"> tv series</value>
        <value condition="String.IsEqual(Window(Home).Property(TMDbHelper.ListItem.base_dbtype),movie)"> film</value>
    </variable>

    <include name="Dialog_ContextMenu_BodyContent_Artwork">
        <control type="group">
            <include>Dimension_Dialog_Body_Group</include>
            <include content="DialogInfo_PlotBox_Artwork">
                <param name="poster_visible">[!String.IsEmpty(ListItem.Art(poster)) | !String.IsEmpty(Window(Home).Property(TMDbHelper.ListItem.base_poster))]</param>
                <param name="poster_icon">$VAR[Image_ContextPoster]</param>
                <param name="landscape_icon">$VAR[Image_ContextFanart]</param>
                <param name="square_icon">$VAR[Image_ContextIcon]</param>
                <param name="clearlogo_icon">$VAR[Image_ContextClearLogo]</param>
                <param name="landscape_visible">[!String.IsEmpty(ListItem.Art(fanart)) | !String.IsEmpty(Window(Home).Property(TMDbHelper.ListItem.base_fanart))]</param>
            </include>
        </control>
    </include>

    <include name="Dialog_ContextMenu_BodyContent">
        <param name="include_artwork">true</param>
        <definition>
            <control type="group">
                <include>Dimension_Dialog_Body</include>

                <include condition="$PARAM[include_artwork]">Dialog_ContextMenu_BodyContent_Artwork</include>

                <control type="grouplist" id="996">
                    <include>Dimension_Dialog_Body_Group</include>
                    <onleft condition="Control.IsVisible(6099)">6099</onleft>
                    <onleft condition="!Control.IsVisible(6099)">Close</onleft>
                    <right>$PARAM[lines_right]</right>
                    <onright>61</onright>
                    <pagecontrol>61</pagecontrol>
                </control>

                <include content="Dialog_Scrollbar">
                    <param name="id">61</param>
                    <onleft>996</onleft>
                </include>
            </control>
        </definition>
    </include>
    
    <include name="Dialog_Dim_Overlay">
        <param name="visible">true</param>
        <definition>
            <control type="image">
                <visible>$PARAM[visible]</visible>
                <include>Animation_FadeIn</include>
                <include>Animation_FadeOut</include>
                <texture colordiffuse="shadow_hard">common/white.png</texture>
            </control>
        </definition>
    </include>

    <include name="Dialog_ContextMenu">
        <param name="include_fullmenu">false</param>
        <param name="dialog_size">Dimension_DialogSideMenu</param>
        <param name="button_width">dialog_main_button_w</param>
        <param name="lines_right">0</param>
        <param name="header">$LOCALIZE[10106]</param>
        <definition>
            <include>Defs_Background_Loader</include>
            <include>Dialog_Dim_Overlay</include>

            <control type="group">
                <include>$PARAM[dialog_size]</include>
                <include>Animation_Right_Delay</include>
                
                <include content="Dialog_Dim_Side">
                     <param name="slide_condition">![Window.IsVisible(1160) | Window.IsVisible(favouritesbrowser) | Window.IsVisible(filemanager) | Window.IsVisible(addonbrowser) | Window.IsVisible(Custom_1132_Window_Addons.xml) | !String.IsEmpty(ListItem.AddonName)]</param>
                     <param name="slide_animation">true</param>
                </include>
                
                <include content="Dialog_Background_Side">
                    <param name="dialog_size">$PARAM[dialog_size]</param>
                    <param name="slide_condition">![Window.IsVisible(1160) | Window.IsVisible(favouritesbrowser) | Window.IsVisible(filemanager) | Window.IsVisible(addonbrowser) | Window.IsVisible(Custom_1132_Window_Addons.xml) | !String.IsEmpty(ListItem.AddonName)]</param>
                    <!-- Side Buttons -->
                    <include content="Object_Control">
                        <param name="control">group</param>
                        <visible>![Window.IsVisible(1160) | Window.IsVisible(favouritesbrowser) | Window.IsVisible(filemanager) | Window.IsVisible(addonbrowser) | Window.IsVisible(Custom_1132_Window_Addons.xml) | !String.IsEmpty(ListItem.AddonName)]</visible>
                        <control type="group">
                            <include>Dimension_Dialog_Body</include>
                            <control type="group">
                                <include>Dialog_Side_Grouplist_Def</include>
                                <include content="ButtonMenu_SideTray">
                                    <param name="include">ButtonMenu_ContextControls</param>
                                    <param name="onright">996</param>
                                </include>
                            </control>
                        </control>
                    </include>
                </include>

                <!-- Foreground Layer -->
                <include content="Dialog_Foreground_Side">
                    <param name="dialog_size">$PARAM[dialog_size]</param>
                    <param name="topline">true</param>
                    <param name="subline">true</param>
                    <param name="lines_right">$PARAM[lines_right]</param>

                    <!-- Header -->
                    <include content="Dialog_Head">
                        <param name="label">$PARAM[header]</param>
                    </include>

                    <include>Dialog_Head_CloseButton</include>

                    <!-- Content -->
                    <include content="Dialog_ContextMenu_BodyContent">
                        <param name="include_artwork">$PARAM[include_fullmenu]</param>
                        <param name="lines_right">$PARAM[lines_right]</param>
                    </include>

                </include>
            </control>

            <include content="Settings_Button">
                <param name="id">1000</param>
                <param name="control">button</param>
                <param name="dialog">true</param>
                <width>$PARAM[button_width]</width>
            </include>

        </definition>
    </include>

</includes>
