<?xml version="1.0" encoding="UTF-8"?>
<includes>

    <include name="Search_Term_DoubleEncoder">
        <include content="Object_Hidden_List">
            <param name="id">99099</param>
            <content>$INFO[Control.GetLabel(9099).index(1),plugin://script.skinvariables/?info=get_encoded_string&amp;unencoded_paths=true&amp;&amp;,]</content>
        </include>
        <include content="Object_Hidden_List">
            <param name="id">99098</param>
            <content>$INFO[Container(99099).ListItem.Label,plugin://script.skinvariables/?info=get_encoded_string&amp;unencoded_paths=true&amp;&amp;,]</content>
        </include>
    </include>

    <include name="Search_View_User">        
        <include>Background_Main</include>
        
        <control type="group">
            <include content="Animation_FadeIn">
                <param name="type">Visible</param>
            </include>
            <include content="Animation_FadeOut">
                <param name="type">Hidden</param>
            </include>
            <include condition="Skin.HasSetting(Furniture.DisableLeftHeader)">Furniture_DateLabel_TopRight</include>
            <!-- Custom Shutdown Timer -->
            <control type="group">
                <include condition="![Skin.HasSetting(Furniture.DisableLeftHeader) + [!Skin.HasSetting(Furniture.EnableClock) + [Window.IsVisible(MyPVRGuide.xml) | Window.IsVisible(MyPVRChannels.xml) | !String.IsEmpty(Skin.String(Furniture.EnableClock.TopLeft))]]]">Furniture_Right_SlidingFade</include>
                <include content="Object_Top" condition="Skin.HasSetting(Furniture.DisableLeftHeader) + [!Skin.HasSetting(Furniture.EnableClock) + [Window.IsVisible(MyPVRGuide.xml) | Window.IsVisible(MyPVRChannels.xml) | !String.IsEmpty(Skin.String(Furniture.EnableClock.TopLeft))]]">
                    <param name="top">80</param>
                </include>
                <include content="Furniture_Busy">
                    <param name="hasprogress">false</param>
                    <param name="hasbackground">Skin.HasSetting(ToastNotifications.Tabbed)</param>
                    <param name="icon">special://skin/extras/icons/timer.png</param>
                    <param name="mainlabel">$INFO[System.AlarmPos(shutdowntimer)]</param>
                    <param name="minilabel">[CAPITALIZE]$LOCALIZE[20144][/CAPITALIZE]</param>
                    <param name="haslabel">True</param>
                    <param name="hasbackground">Skin.HasSetting(ToastNotifications.Tabbed)</param>
                    <param name="visible">System.HasAlarm(shutdowntimer)</param>
                    <param name="flipspinner">false</param>
                </include>
            </control>
            <visible>!$EXP[Exp_InfoDialogs]</visible>
            <include>Search_Term_DoubleEncoder</include>
            <include>DialogInfo_Recommendations_BackgroundLoader</include>
                
            <include>Animation_Trailer_Dim</include>
            
            <control type="group">
                <include>Search_Group</include>            
                <include content="DialogInfo_Recommendations_Group">
                    <param name="include_slideover">false</param>
                    <control type="group">                    
                         <include content="DialogInfo_Recommendations_InfoPanel">
                            <param name="dimensions">Info_Panel_Dimensions</param>                        
                            <param name="titlelabel">$VAR[Label_WidgetContainer_5000_Title]</param>
                            <param name="plotlabel">$VAR[Label_WidgetContainer_5000_Plot]</param>
                            <param name="widget_windowchange_animation">false</param>
                            <visible>!String.IsEmpty(Container(5099).ListItem.Property(guid))</visible>
                            <include>Animation_Transition_InfoPanel_Hide</include>
                        </include>

                        <control type="group">
                            <left>-120</left>                        
                            <animation effect="slide" start="0" end="0,440" condition="!String.IsEmpty(Container(5099).ListItem.Property(guid))">Conditional</animation>
                            <include content="DialogInfo_Recommendations_Widgets_Grouplist">
                                <param name="top">60</param>
                                <param name="bottom">0</param>
                                <param name="onup">333</param>                            
                                <param name="widget_windowchange_animation">false</param>
                                <include>skinvariables-searchmenu-widgets</include>
                                <include>Widget_End_Bumper</include>
                            </include>
                        </control>

                        <visible>!String.IsEmpty(Control.GetLabel(9099).index(1))</visible>
                        <include content="Animation_ConditionalFade">
                            <param name="condition">[String.IsEmpty(Control.GetLabel(9099).index(1)) | Integer.IsEqual(Container(5000).NumItems,0)]</param>
                        </include>

                    </control>                
                    
                    <include>Search_Widgets_NoResults</include>
                    <control type="group">
                        <left>-120</left>
                        <visible>!$EXP[Exp_InfoDialogs] + [!String.IsEmpty(Container(5099).ListItem.Property(guid)) | String.IsEmpty(Control.GetLabel(9099).index(1)) | Integer.IsEqual(Container(5000).NumItems,0)]</visible>
                        <include condition="!Skin.HasSetting(Furniture.DisableLeftHeader)">Furniture_Top</include>
                    </control>

                    <control type="group">
                        <include>Dimension_Bottombar</include>
                        <control type="group">
                            <include>Dimension_Furniture_Gutters</include>
                            <include content="View_Furniture_Bottom_ViewLine">
                                <param name="visible">!Integer.IsEqual(Container(5099).ListItem.Property(widget_numitems),0)</param>
                                <param name="label">$INFO[Container(5099).ListItem.Property(widget_numitems),, $LOCALIZE[31022]]</param>
                            </include>
                        </control>
                    </control>

                </include>

                <include>Search_Panel</include>

            </control>
            <control type="group">
                <visible>!$EXP[Exp_InfoDialogs]</visible>
                <include>Furniture_Bottom_Right</include>
            </control>

            <include>View_Dialog_Plot</include>
        </control>
    </include>

    <include name="Search_View_Selector">
        <control type="group">
            <control type="group">
                <visible>Control.HasFocus(5099)</visible>
                <control type="group">
                    <include>Dimension_Bottombar</include>
                    <control type="group">
                        <left>-20</left>
                        <animation effect="fade" start="100" end="70" condition="true">Conditional</animation>
                        <include>Dimension_Furniture_Gutters</include>
                        <control type="group">
                            <include content="View_Furniture_Bottom_ViewLine">
                                <param name="label">$INFO[Container(5099).NumItems,, $LOCALIZE[31022]]</param>
                                <param name="fade_condition">false</param>
                                <param name="textcolor">dialog_fg_90</param>
                            </include>
                        </control>
                    </control>
                </control>
                <control type="image">
                    <bottom>160</bottom>
                    <height>1</height>
                    <left>60</left>
                    <right>60</right>
                    <texture colordiffuse="$VAR[Color_DialogBorder]">common/white.png</texture>
                </control>
            </control>
            <include content="List_DialogSelect">
                <param name="id">5099</param>
                <param name="textcolor">dialog_fg</param>
                <param name="itemlayout_include">Layout_MenuList</param>
                <param name="hidden_button">List_ButtonMenu_Row_HiddenButton_Search_Row</param>
                <param name="hidden_button_enabled">True</param>
                <param name="control">list</param>
                <onback>SetProperty(TMDbHelper.WidgetContainer,$INFO[ListItem.Property(widget_id)])</onback>
                <onback>5098</onback>
                <onleft>SetProperty(TMDbHelper.WidgetContainer,$INFO[ListItem.Property(widget_id)])</onleft>
                <onleft>5098</onleft>
                <onright>SetProperty(TMDbHelper.WidgetContainer,$INFO[ListItem.Property(widget_id)])</onright>
                <onright condition="Integer.IsEqual(Container(5000).NumItems,0)">SetFocus(5098)</onright>
                <onright condition="!Integer.IsEqual(Container(5000).NumItems,0)">SetFocus(5000)</onright>
                <onright condition="!String.IsEmpty(Control.GetLabel(9099).index(1))">RunScript(script.skinvariables,add_skinstring_history=SearchHistory,value=$VAR[Path_SearchTerm])</onright>
                <onclick>SetProperty(TMDbHelper.WidgetContainer,$INFO[ListItem.Property(widget_id)])</onclick>
                <onclick>SetFocus(5098)</onclick>
                <include content="Animation_ConditionalFade">
                    <param name="condition">!Control.HasFocus(5099)</param>
                </include>

                <onup>SetProperty(TMDbHelper.WidgetContainer,$INFO[ListItem.Property(widget_id)])</onup>
                <onup>5098</onup>
                <ondown>noop</ondown>
                <left>40</left>
                <right>40</right>
                <top>500</top>
                <bottom>160</bottom>
                <content>
                    <item>
                        <label>$LOCALIZE[593]</label>
                        <icon>special://skin/extras/icons/shapes.png</icon>
                        <property name="hide_artwork">True</property>
                    </item>
                    <include>skinvariables-searchmenu-selector</include>
                </content>
            </include>
        </control>
    </include>    

    <include name="Search_View_Discover">
        <include>Background_Main</include>
        
        <control type="group">
            <include content="Animation_FadeIn">
                <param name="type">Visible</param>
            </include>
            <include content="Animation_FadeOut">
                <param name="type">Hidden</param>
            </include>
            <visible>!$EXP[Exp_InfoDialogs]</visible>
            <include>Search_Term_DoubleEncoder</include>
            <include condition="Skin.HasSetting(Furniture.DisableLeftHeader)">Furniture_DateLabel_TopRight</include>
            <!-- Custom Shutdown Timer -->
            <control type="group">
                <include condition="![Skin.HasSetting(Furniture.DisableLeftHeader) + [!Skin.HasSetting(Furniture.EnableClock) + [Window.IsVisible(MyPVRGuide.xml) | Window.IsVisible(MyPVRChannels.xml) | !String.IsEmpty(Skin.String(Furniture.EnableClock.TopLeft))]]]">Furniture_Right_SlidingFade</include>
                <include content="Object_Top" condition="Skin.HasSetting(Furniture.DisableLeftHeader) + [!Skin.HasSetting(Furniture.EnableClock) + [Window.IsVisible(MyPVRGuide.xml) | Window.IsVisible(MyPVRChannels.xml) | !String.IsEmpty(Skin.String(Furniture.EnableClock.TopLeft))]]">
                    <param name="top">80</param>
                </include>
                <include content="Furniture_Busy">
                    <param name="hasprogress">false</param>
                    <param name="hasbackground">Skin.HasSetting(ToastNotifications.Tabbed)</param>
                    <param name="icon">special://skin/extras/icons/timer.png</param>
                    <param name="mainlabel">$INFO[System.AlarmPos(shutdowntimer)]</param>
                    <param name="minilabel">[CAPITALIZE]$LOCALIZE[20144][/CAPITALIZE]</param>
                    <param name="haslabel">True</param>
                    <param name="hasbackground">Skin.HasSetting(ToastNotifications.Tabbed)</param>
                    <param name="visible">System.HasAlarm(shutdowntimer)</param>
                    <param name="flipspinner">false</param>
                </include>
            </control>

            <include content="Object_Hidden_Button">
                <param name="id">64</param>
                <onfocus>$VAR[Action_Var_Search_ToMediaFilter]</onfocus>
            </include>

            <include>DialogInfo_Recommendations_BackgroundLoader</include>

            <control type="group">
                <include>Search_Group</include>


                <include content="DialogInfo_Recommendations_Group">
                    <param name="include_slideover">false</param>    
                    <control type="group">
                        <include content="DialogInfo_Recommendations_InfoPanel">
                            <param name="dimensions">Info_Panel_Dimensions</param>
                            <param name="titlelabel">$VAR[Label_WidgetContainer_5000_Title]</param>
                            <param name="plotlabel">$VAR[Label_WidgetContainer_5000_Plot]</param>
                            <include>Animation_Transition_InfoPanel_Hide</include>
                        </include>
                        <include content="DialogInfo_Recommendations_Widgets_Grouplist">
                            <param name="onup">333</param>
                            <param name="widget_windowchange_animation">false</param>
                            <left>-120</left>    
                            <include content="_Widget_Row" condition="!Skin.HasSetting(Discover.Landscape)">
                                <param name="id">5001</param>
                                <param name="groupid">5101</param>
                                <param name="label">$VAR[Label_Discover_TMDbType]$INFO[Control.GetLabel(9099).index(1), [COLOR=main_fg_30]&gt;[/COLOR] [CAPITALIZE],[/CAPITALIZE]]</param>
                                <param name="include">List_Poster_Row</param>
                                <param name="visible">True</param>
                                <param name="detailed">String.IsEqual(ListItem.Label,$LOCALIZE[31046])</param>

                                <param name="altvisible">[[Control.HasFocus(9099) | ControlGroup(9090).HasFocus()] + System.IdleTime(1) + !System.IdleTime(2)]</param>
                                <param name="busy_isupdating">[[Control.HasFocus(9099) | ControlGroup(9090).HasFocus()] + System.IdleTime(1) + !System.IdleTime(2)]</param>
                                <param name="busy_visible">[Integer.IsEqual(Container(5001).NumItems,0) | Container(5001).IsUpdating]</param>

                                <param name="widgetfade_include">true</param>
                                <param name="widget_showoverlay">false</param>

                                <include content="Action_View_Movement_OnLeft">
                                    <param name="id">5001</param>
                                    <param name="menuid">9090</param>
                                    <param name="onwrap">[False]</param>
                                </include>
                                <include content="Action_View_Movement_OnRight">
                                    <param name="id">5001</param>
                                    <param name="menuid">9090</param>
                                    <param name="onwrap">[False]</param>
                                    <param name="onbump">[True]</param>
                                </include>
                                <include content="Action_View_Movement_OnBack">
                                    <param name="id">5001</param>
                                    <param name="backid">5000</param>
                                    <param name="menuid">9090</param>
                                    <param name="onback">[Integer.IsEqual(Container(5001).CurrentItem,1)]</param>
                                </include>

                                <onfocus>SetProperty(TMDbHelper.WidgetContainer,5001)</onfocus>                            
                                <onfocus>ClearProperty(Background.ShowOverlay,Home)</onfocus>

                                <content browse="$VAR[Defs_BrowseLimitedLists]" target="videos">$INFO[window(home).property(tmdbhelper.userdiscover.folderpath)]$INFO[Container(99098).ListItem.Label,&amp;with_text_query=,]</content>

                            </include>
                            
                            <include content="_Widget_Row" condition="Skin.HasSetting(Discover.Landscape)">
                                <param name="id">5001</param>
                                <param name="groupid">5101</param>
                                <param name="label">$VAR[Label_Discover_TMDbType]$INFO[Control.GetLabel(9099).index(1), [COLOR=main_fg_30]&gt;[/COLOR] [CAPITALIZE],[/CAPITALIZE]]</param>
                                <param name="include">List_Landscape_Row</param>
                                <param name="visible">True</param>
                                <param name="detailed">String.IsEqual(ListItem.Label,$LOCALIZE[31046])</param>

                                <param name="altvisible">[[Control.HasFocus(9099) | ControlGroup(9090).HasFocus()] + System.IdleTime(1) + !System.IdleTime(2)]</param>
                                <param name="busy_isupdating">[[Control.HasFocus(9099) | ControlGroup(9090).HasFocus()] + System.IdleTime(1) + !System.IdleTime(2)]</param>
                                <param name="busy_visible">[Integer.IsEqual(Container(5001).NumItems,0) | Container(5001).IsUpdating]</param>

                                <param name="widgetfade_include">true</param>
                                <param name="widget_showoverlay">false</param>

                                <include content="Action_View_Movement_OnLeft">
                                    <param name="id">5001</param>
                                    <param name="menuid">9090</param>
                                    <param name="onwrap">[False]</param>
                                </include>
                                <include content="Action_View_Movement_OnRight">
                                    <param name="id">5001</param>
                                    <param name="menuid">9090</param>
                                    <param name="onwrap">[False]</param>
                                    <param name="onbump">[True]</param>
                                </include>
                                <include content="Action_View_Movement_OnBack">
                                    <param name="id">5001</param>
                                    <param name="backid">5000</param>
                                    <param name="menuid">9090</param>
                                    <param name="onback">[Integer.IsEqual(Container(5001).CurrentItem,1)]</param>
                                </include>

                                <onfocus>SetProperty(TMDbHelper.WidgetContainer,5001)</onfocus>
                                <onfocus>ClearProperty(Background.ShowOverlay,Home)</onfocus>
                                

                                <content browse="$VAR[Defs_BrowseLimitedLists]" target="videos">$INFO[window(home).property(tmdbhelper.userdiscover.folderpath)]$INFO[Container(99098).ListItem.Label,&amp;with_text_query=,]</content>

                            </include>

                            <include>Widget_End_Bumper</include>
                        </include>
                        <include content="Animation_ConditionalFade">
                            <param name="condition">[Integer.IsEqual(Container(5000).NumItems,0)]</param>
                        </include>
                    </control>
                   
                        <include>Search_Widgets_NoResults</include>
                        <control type="group">
                            <left>-120</left>
                            <visible>!$EXP[Exp_InfoDialogs]</visible>
                            <include condition="!Skin.HasSetting(Furniture.DisableLeftHeader)">Furniture_Top</include>
                        </control>
                    
                    <control type="group">
                        <include>Dimension_Bottombar</include>
                        <control type="group">
                            <include>Dimension_Furniture_Gutters</include>
                            <include content="View_Furniture_Bottom_ViewLine">
                                <param name="visible">!Integer.IsEqual(Container(5001).NumItems,0)</param>
                                <param name="label">$INFO[Container(5001).NumItems,, $LOCALIZE[31022]]</param>
                            </include>
                        </control>
                    </control>
                </include>

                <include>Search_Panel</include>

            </control>

            <control type="group">
                <visible>!$EXP[Exp_InfoDialogs]</visible>
                <include>Furniture_Bottom_Right</include>
            </control>

            <include>View_Dialog_Plot</include>
        </control>
    </include>


    <include name="Search_Window_Def">
        <defaultcontrol>9992</defaultcontrol>
        <menucontrol>9992</menucontrol>
        <include>Action_Blur_Onload</include>

        <onload condition="$EXP[Exp_FullPanelWindows_Prev] + String.IsEmpty(Window(Home).Property(CustomSearchTerm)) + !Window.Previous(1185) + !Window.Previous(1105)">SetFocus(9992)</onload>
        <onload condition="$EXP[Exp_FullPanelWindows_Prev] + String.IsEmpty(Window(Home).Property(CustomSearchTerm)) + [Window.Previous(1185) | Window.Previous(1105)]">SetFocus(9994,0,absolute)</onload>


        <onload condition="!String.IsEmpty(Window(Home).Property(CustomSearchTerm))">SetFocus(9099)</onload>
        <onload condition="!String.IsEmpty(Window(Home).Property(CustomSearchTerm)) + Window.IsVisible(1105)">AlarmClock(refocus,RunScript(script.skinvariables,set_editcontrol=9099,window_id=1105,setfocus=9992,text=$INFO[Window(Home).Property(CustomSearchTerm)]),00:01,silent)</onload>
        <onload condition="!String.IsEmpty(Window(Home).Property(CustomSearchTerm)) + Window.IsVisible(1185)">AlarmClock(refocus,RunScript(script.skinvariables,set_editcontrol=9099,window_id=1185,setfocus=9992,text=$INFO[Window(Home).Property(CustomSearchTerm)]),00:01,silent)</onload>
        <onload>ClearProperty(CustomSearchTerm,Home)</onload>

        <onunload condition="!String.IsEmpty(Control.GetLabel(9099).index(1))">RunScript(script.skinvariables,add_skinstring_history=SearchHistory,value=$VAR[Path_SearchTerm])</onunload>
    </include>

    <include name="Search_Panel_Edit">
        <control type="edit" id="9099">
            <height>80</height>
            <left>40</left>
            <right>40</right>
            <centertop>100</centertop>
            <textcolor>dialog_fg_70</textcolor>
            <font>font_midi_bold</font>
            <textoffsetx>40</textoffsetx>
            <align>left</align>
            <ondown>9992</ondown>
            <onright>5000</onright>
            <onright condition="!String.IsEmpty(Control.GetLabel(9099).index(1))">RunScript(script.skinvariables,add_skinstring_history=SearchHistory,value=$VAR[Path_SearchTerm])</onright>
            <onleft>noop</onleft>
            <onfocus>ClearProperty(Background.ShowOverlay,Home)</onfocus>           
        </control>
    </include>

    <include name="Search_Panel_UpdateSearchRows_Onclick">
        <onclick>AlarmClock(SetUpdateSearchRows,SetProperty(UpdateSearchRows,True,Home),00:01,silent)</onclick>
        <onclick>AlarmClock(DelUpdateSearchRows,ClearProperty(UpdateSearchRows,Home),00:02,silent)</onclick>
    </include>

    <include name="Search_Panel_Keyboard">
        <control type="panel" id="9992">
            <orientation>vertical</orientation>
            <onup>9099</onup>
            <ondown>9994</ondown>
            <onright>5000</onright>
            <onright condition="!String.IsEmpty(Control.GetLabel(9099).index(1))">RunScript(script.skinvariables,add_skinstring_history=SearchHistory,value=$VAR[Path_SearchTerm])</onright>
            <onleft>noop</onleft>
            <width>360</width>
            <height>180</height>
            <centerleft>50%</centerleft>           
            
            <onfocus>ClearProperty(Background.ShowOverlay,Home)</onfocus>

            <itemlayout width="40" height="60">
                <control type="label">
                    <font>font_main</font>
                    <label>$INFO[ListItem.Label]</label>
                    <textcolor>dialog_fg_70</textcolor>
                    <align>center</align>
                    <height>35</height>
                </control>
            </itemlayout>

            <focusedlayout width="40" height="60">

                <control type="group">
                    <control type="label">
                        <font>font_main_bold</font>
                        <label>$INFO[ListItem.Label]</label>
                        <textcolor>dialog_fg_100</textcolor>
                        <align>center</align>
                        <height>35</height>
                    </control>
                    <control type="image">
                        <include>Texture_Highlight_Scrollbar_H</include>
                        <height>scrollbar_w</height>
                        <bottom>10</bottom>
                        <width>75%</width>
                        <centerleft>50%</centerleft>
                    </control>
                </control>
            </focusedlayout>

            <content>
                <item>
                    <label>A</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_a</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>B</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_b</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>C</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_c</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>D</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_d</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>E</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_e</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>F</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_f</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>G</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_g</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>H</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_h</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>I</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_i</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>J</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_j</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>K</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_k</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>L</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_l</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>M</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_m</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>N</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_n</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>O</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_o</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>P</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_p</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>Q</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_q</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>R</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_r</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>S</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_s</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>T</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_t</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>U</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_u</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>V</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_v</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>W</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_w</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>X</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_x</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>Y</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_y</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>Z</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_z</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <label>_</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click__</include>
                    <onclick>SetFocus(9992)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
            </content>
        </control>
        <control type="panel" id="9994">
            <orientation>horizontal</orientation>
            <onup>9992</onup>
            <ondown>SetFocus(9993,0,absolute)</ondown>
            <onright>5000</onright>
            <onright condition="!String.IsEmpty(Control.GetLabel(9099).index(1))">RunScript(script.skinvariables,add_skinstring_history=SearchHistory,value=$VAR[Path_SearchTerm])</onright>
            <onleft>noop</onleft>
            <top>-10</top>
            <width>240</width>
            <height>60</height>
            <centerleft>50%</centerleft>
            <onfocus>ClearProperty(Background.ShowOverlay,Home)</onfocus>            

            <itemlayout width="60" height="60">
                <control type="label">
                    <font>font_mini_iconic</font>
                    <label>$INFO[ListItem.Label]</label>
                    <textcolor>dialog_fg_70</textcolor>
                    <align>center</align>
                </control>
            </itemlayout>

            <focusedlayout width="60" height="60">

                <control type="group">
                    <control type="label">
                        <font>font_mini_iconic</font>
                        <label>$INFO[ListItem.Label]</label>
                        <textcolor>dialog_fg_100</textcolor>
                        <align>center</align>
                    </control>
                    <control type="image">
                        <include>Texture_Highlight_Scrollbar_H</include>
                        <height>scrollbar_w</height>
                        <bottom>0</bottom>
                        <width>36</width>
                        <centerleft>50%</centerleft>
                    </control>
                </control>
            </focusedlayout>

            <content>

                <item>
                    <description>Discover</description>
                    <label>&#xf0b0;</label>                    
                    <onclick>SetProperty(CustomSearchTerm,$INFO[Control.GetLabel(9099).index(1)],Home)</onclick>
                    <onclick>ReplaceWindow(1105)</onclick>
                    <visible>Window.IsVisible(1185)</visible>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
                <item>
                    <description>Search</description>
                    <label>&#xf002;</label>                    
                    <onclick>SetProperty(CustomSearchTerm,$INFO[Control.GetLabel(9099).index(1)],Home)</onclick>
                    <onclick>ReplaceWindow(1185)</onclick>
                    <visible>Window.IsVisible(1105)</visible>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>


                <item>
                    <description>Keyboard</description>
                    <label>&#xf11c;</label>
                    <onclick>SetFocus(9099)</onclick>
                    <onclick>Action(Select)</onclick>
                    <onclick>SetFocus(9994)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>

                <item>
                    <description>Backspace</description>
                    <label>&#xf55a;</label>
                    <onclick>SetFocus(9099)</onclick>
                    <include>Object_SearchLetter_Click_&lt;</include>
                    <onclick>SetFocus(9994)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>

                <item>
                    <description>Clear</description>
                    <label>&#xf071;</label>
                    <onclick>SetFocus(9099)</onclick>
                    <onclick condition="Window.Isvisible(1185)">RunScript(script.skinvariables,set_editcontrol=9099,window_id=1185,setfocus=9994)</onclick>
                    <onclick condition="Window.Isvisible(1105)">RunScript(script.skinvariables,set_editcontrol=9099,window_id=1105,setfocus=9994)</onclick>
                    <onclick condition="Window.IsVisible(1105)">RunPlugin(plugin://plugin.video.themoviedb.helper/?info=user_discover&amp;tmdb_type=tv&amp;method=clear)</onclick>
                    <include>Search_Panel_UpdateSearchRows_Onclick</include>
                </item>
            </content>
        </control>
    </include>

    <include name="Search_Panel_Autocomplete">
        <control type="fixedlist" id="9993">
            <onup>5098</onup>
            <onback>SetFocus(9993,0,absolute)</onback>
            <onback>5098</onback>
            <onright>5000</onright>
            <onright condition="!String.IsEmpty(Control.GetLabel(9099).index(1))">RunScript(script.skinvariables,add_skinstring_history=SearchHistory,value=$VAR[Path_SearchTerm])</onright>
            <onleft>noop</onleft>
            <onfocus>ClearProperty(Background.ShowOverlay,Home)</onfocus>
            <visible>!Control.HasFocus(5099)</visible>
            
            <orientation>vertical</orientation>

            <focusposition>0</focusposition>
            <movement>8</movement>

            <top>-30</top>
            <height>540</height>
            <width>360</width>
            <centerleft>50%</centerleft>

            <onclick>SetFocus(9099)</onclick>
            <onclick>RunScript(script.skinvariables,set_editcontrol=9099,window_id=1105,setfocus=9993,text=$INFO[Container(9993).ListItem.Label])</onclick>
            <include>Search_Panel_UpdateSearchRows_Onclick</include>

            <itemlayout height="60">
                <control type="label">
                    <font>font_main</font>
                    <label>$INFO[ListItem.Label]</label>
                    <textcolor>dialog_fg_70</textcolor>
                    <align>center</align>
                    <height>35</height>
                </control>
            </itemlayout>

            <focusedlayout height="60">
                <control type="label">
                    <font>font_main</font>
                    <label>$INFO[ListItem.Label]</label>
                    <textcolor>dialog_fg_70</textcolor>
                    <align>center</align>
                    <height>35</height>
                    <visible>!Control.HasFocus(9993)</visible>
                </control>

                <control type="group">
                    <visible>Control.HasFocus(9993)</visible>
                    <control type="label">
                        <font>font_main_bold</font>
                        <label>$INFO[ListItem.Label]</label>
                        <textcolor>dialog_fg_100</textcolor>
                        <height>35</height>
                        <align>center</align>
                    </control>
                    <control type="image">
                        <height>scrollbar_w</height>
                        <bottom>10</bottom>
                        <include>Texture_Highlight_Scrollbar_H</include>
                        <width>50%</width>
                        <centerleft>50%</centerleft>
                    </control>
                </control>
            </focusedlayout>

            <content>$VAR[Search_Filter_AutoComplete]</content>
        </control>
    </include>
    
    <variable name="Search_Filter_AutoComplete">
        <value condition="Window.IsMedia">plugin://script.skinvariables/?info=get_container_labels$VAR[Action_View_ContainerID,&amp;containers=,]&amp;infolabel=label&amp;reload=$INFO[Container.NumItems]$INFO[Control.GetLabel(19).index(1),&amp;filter_key=label&amp;filter_value=,]</value>
        <value condition="$EXP[Exp_AutoCompletion_IsEnabled] + $EXP[Path_SearchTerm_Exp]">plugin://plugin.program.autocompletion?info=autocomplete&amp;&amp;id=$VAR[Path_SearchTerm]&amp;&amp;limit=9</value>
        <value>plugin://script.skinvariables/?info=get_split_string&amp;infolabel=Skin.String(SearchHistory)&amp;reload=$INFO[Skin.String(SearchHistory)]</value>
    </variable>

    <include name="Search_Panel_DiscoverFilter">
        <control type="list" id="9993">
            <onup>9994</onup>
            <onright>5000</onright>
            <onright condition="!String.IsEmpty(Control.GetLabel(9099).index(1))">RunScript(script.skinvariables,add_skinstring_history=SearchHistory,value=$VAR[Path_SearchTerm])</onright>
            <onleft>noop</onleft>
            <onfocus>ClearProperty(Background.ShowOverlay,Home)</onfocus>

            <orientation>vertical</orientation>

            <focusposition>4</focusposition>
            <movement>4</movement>

            <top>-30</top>
            <height>540</height>

            <width>360</width>
            <centerleft>50%</centerleft>

            <onclick condition="String.IsEmpty(Container(9993).ListItem.Property(override_onclick))">RunPlugin($INFO[Container(9993).ListItem.FolderPath])</onclick>

            <itemlayout height="60">
                <control type="label">
                    <font>font_main</font>
                    <label>$INFO[ListItem.Label]</label>
                    <textcolor>dialog_fg_70</textcolor>
                    <align>center</align>
                    <height>35</height>
                </control>
            </itemlayout>

            <focusedlayout height="60">
                <control type="label">
                    <font>font_main</font>
                    <label>$INFO[ListItem.Label]</label>
                    <textcolor>dialog_fg_70</textcolor>
                    <align>center</align>
                    <height>35</height>
                    <visible>!Control.HasFocus(9993)</visible>
                </control>

                <control type="group">
                    <visible>Control.HasFocus(9993)</visible>
                    <control type="label">
                        <font>font_main_bold</font>
                        <label>$INFO[ListItem.Label]</label>
                        <textcolor>dialog_fg_100</textcolor>
                        <height>35</height>
                        <align>center</align>
                    </control>
                    <control type="image">
                        <height>scrollbar_w</height>
                        <bottom>10</bottom>
                        <include>Texture_Highlight_Scrollbar_H</include>
                        <width>50%</width>
                        <centerleft>50%</centerleft>
                    </control>
                </control>
            </focusedlayout>

            <content>plugin://plugin.video.themoviedb.helper/?info=user_discover&amp;tmdb_type=$INFO[Skin.String(Discover.TMDbType)]&amp;method=skip$INFO[Window(Home).Property(TMDbHelper.UserDiscover.ParamsDict),&amp;reload=,]</content>
        </control>
    </include>

    <include name="Search_Group">        
        <animation effect="slide" tween="cubic" easing="out" time="400" start="-view_menu_main" end="0" reversible="false" condition="!ControlGroup(5000).HasFocus() + !Control.HasFocus(330) + !Control.HasFocus(332) + !Control.HasFocus(333) + ![Window.Next(1105) | Window.Previous(1105) | Window.Next(1185) | Window.Previous(1185)]">WindowOpen</animation>
        <animation effect="slide" tween="cubic" easing="out" time="400" start="0" end="-view_menu_main" reversible="false" condition="!ControlGroup(5000).HasFocus() + !Control.HasFocus(330) + !Control.HasFocus(332) + !Control.HasFocus(333) + ![Window.Next(1105) | Window.Previous(1105) | Window.Next(1185) | Window.Previous(1185)]">WindowClose</animation>    
        
        <animation effect="slide" tween="cubic" easing="out" time="400" start="0" end="view_menu_main" reversible="false" condition="!ControlGroup(5000).HasFocus() + !Control.HasFocus(330) + !Control.HasFocus(332) + !Control.HasFocus(333)">Conditional</animation>
        <animation effect="slide" tween="cubic" easing="out" time="400" start="view_menu_main" end="0" reversible="false" condition="![!ControlGroup(5000).HasFocus() + !Control.HasFocus(330) + !Control.HasFocus(332) + !Control.HasFocus(333)]">Conditional</animation>    
        <include content="Hub_Left_Bezier_Object">
            <param name="visible">!ControlGroup(5000).HasFocus() + !Control.HasFocus(330) + !Control.HasFocus(332) + !Control.HasFocus(333)</param>
            <param name="left">40</param>
            <param name="time_in">200</param>
            <param name="time_out">400</param>
            <param name="fadeout_include">true</param>
        </include>
    </include>


    <include name="Search_Panel">
        <control type="group">
            <left>view_list</left>
            <include>Animation_Search_Fade</include>
            <control type="group">
                <left>0</left>
                <include content="Home_Menu_Vert_Background">
                    <param name="left">-view_menu_main</param>
                    <param name="width">view_menu_main</param>
                    <param name="subline_visible">false</param>
                    <param name="include_dialog">true</param>
                    <param name="include_mask">true</param>
                    <param name="adaptive_texture">$VAR[Dialog_Background_Blur_Adaptive_Artwork]</param>   
                    <param name="transparency_include">true</param>
                    <param name="transparency_end">60</param>                    
                </include>
            </control>
            <control type="group">
                <left>-view_menu_main</left>
                <width>view_menu_main</width>
                
                <include content="Animation_Fade_In">
                    <param name="type">WindowOpen</param>
                    <param name="condition">[!ControlGroup(5000).HasFocus() + !Control.HasFocus(330) + !Control.HasFocus(332) + !Control.HasFocus(333)]</param>
                </include>
                <include content="Animation_Fade_Out">
                    <param name="type">WindowClose</param>
                    <param name="condition">[!ControlGroup(5000).HasFocus() + !Control.HasFocus(330) + !Control.HasFocus(332) + !Control.HasFocus(333)]</param>
                </include>

                <include>Search_Panel_Edit</include>

                <control type="grouplist" id="9090">
                    <top>180</top>
                    <onup>9099</onup>
                    <ondown>noop</ondown>                    
                    <include>Search_Panel_Keyboard</include>

                    <control type="grouplist" id="5092">
                        <height>120</height>
                        <align>center</align>
                        <ondown>SetFocus(9993,0,absolute)</ondown>
                        <onup>9994</onup>
                        <onright>5000</onright>
                        <onright condition="!String.IsEmpty(Control.GetLabel(9099).index(1))">RunScript(script.skinvariables,add_skinstring_history=SearchHistory,value=$VAR[Path_SearchTerm])</onright>
                        <orientation>horizontal</orientation>
                        <control type="button" id="5098">
                            <ondown>SetFocus(9993,0,absolute)</ondown>
                            <onup>9994</onup>
                            <onright>5000</onright>
                            <onright condition="!String.IsEmpty(Control.GetLabel(9099).index(1))">RunScript(script.skinvariables,add_skinstring_history=SearchHistory,value=$VAR[Path_SearchTerm])</onright>
                            <top>-4</top>
                            <height>60</height>
                            <textoffsety>-5</textoffsety>
                            <textoffsetx>-20</textoffsetx>
                            <width>auto</width>
                            <centerleft>50%</centerleft>
                            <include>Texture_Highlight_Underline_H</include>
                            <align>center</align>
                            <font>font_main</font>
                            <textcolor>dialog_fg_70</textcolor>
                            <selectedcolor>dialog_fg_70</selectedcolor>
                            <focusedcolor>dialog_fg_100</focusedcolor>

                            <include content="Object_Label" condition="Window.IsVisible(1185)">
                                <param name="label">$LOCALIZE[31324]: $INFO[Container(5099).ListItem.Label]</param>
                            </include>
                            <include content="Object_Label" condition="Window.IsVisible(1105)">
                                <param name="label">$LOCALIZE[31324]: $VAR[Label_Discover_TMDbType]</param>
                            </include>

                            <onfocus>ClearProperty(Background.ShowOverlay,Home)</onfocus>                            

                            <onclick condition="Window.IsVisible(1185)">SetFocus(5099)</onclick>
                            <onclick condition="Window.IsVisible(1105) + Skin.String(Discover.TMDbType,movie)">Skin.SetString(Discover.TMDbType,tv)</onclick>
                            <onclick condition="Window.IsVisible(1105) + !Skin.String(Discover.TMDbType,movie)">Skin.SetString(Discover.TMDbType,movie)</onclick>
                        </control>
                    </control>

                    <include condition="Window.IsVisible(1185)">Search_Panel_Autocomplete</include>
                    <include condition="Window.IsVisible(1105)">Search_Panel_DiscoverFilter</include>
                </control>

                <control type="image">
                    <top>480</top>
                    <height>1</height>
                    <left>60</left>
                    <right>60</right>
                    <texture colordiffuse="$VAR[Color_DialogBorder]">common/white.png</texture>
                </control>
                
                <control type="group">
                    <top>500</top>
                    <visible>!Control.HasFocus(5099)</visible>
                    <animation effect="fade" start="0" end="100" time="300" reversible="false" condition="Control.HasFocus(9993)">Conditional</animation>
                    <animation effect="fade" start="100" end="0" time="300" reversible="false" condition="!Control.HasFocus(9993)">Conditional</animation>
                    <include content="Settings_Arrows">
                        <param name="arrow_prev_visible">Container(9993).HasPrevious</param>
                        <param name="arrow_next_visible">Container(9993).HasNext</param>
                        <param name="colordiffuse">main_fg_30</param>
                        <param name="arrow_centerleft">50%</param>
                        <param name="arrow_top">-28</param>
                        <param name="arrow_bottom">33</param>
                    </include>
                </control>

                <include condition="Window.IsVisible(1185)">Search_View_Selector</include>

            </control>
        </control>
    </include>

    <include name="Search_Widgets_NoResults">
        <control type="group">
            <visible>[String.IsEmpty(Control.GetLabel(9099).index(1)) + Window.IsVisible(1185)] | Integer.IsEqual(Container(5000).NumItems,0)</visible>
            <control type="grouplist">
                <left>view_pad</left>
                <right>view_pad</right>
                <include content="Object_Top" condition="!Skin.HasSetting(Furniture.DisableLeftHeader)">
                    <param name="top">view_top</param>    
                </include>
                <include content="Object_Top" condition="Skin.HasSetting(Furniture.DisableLeftHeader)">
                    <param name="top">view_pad</param>    
                </include>
                <bottom>view_pad</bottom>
                <orientation>vertical</orientation>
                <control type="group">
                    <height>120</height>
                    <include content="Info_Title_Label">
                        <param name="label">$VAR[Label_Search_Title_NoResults]</param>
                        <param name="wrapmultiline">false</param>
                        <param name="visible">true</param>
                        <param name="width">info_plot_w</param>
                        <param name="height">132</param>
                        <param name="colordiffuse">main_fg</param>
                    </include>
                </control>
                <control type="textbox">
                    <top>17</top>
                    <font>font_main_plot</font>
                    <label>$VAR[Label_Search_NoResults]</label>
                    <align>left</align>
                    <height>90</height>
                    <textcolor>main_fg_30</textcolor>
                </control>
            </control>
        </control>
    </include>
    
    <!-- Top View Filter -->
    
    <include name="Search_View_Edit">
        <param name="ondown">68</param>
        <param name="editid">9099</param>
        <param name="rowone">9992</param>
        <param name="rowtwo">9993</param>
        <definition>            
        
            <control type="button" id="9098">
                <include>Object_Hidden_Button_Definition</include>
                <include>Action_View_SlideOver_OnFocus</include>

                <onfocus condition="Window.IsVisible(1105) + String.IsEmpty(Window(Home).Property(SearchDiscover.FocusFilter)) + String.IsEmpty(Window(Home).Property(CustomSearchTerm))">SetFocus(52)</onfocus>
                <onfocus condition="Window.IsVisible(1105) + String.IsEmpty(Window(Home).Property(SearchDiscover.FocusFilter)) + !String.IsEmpty(Window(Home).Property(CustomSearchTerm))">AlarmClock(refocus,RunScript(script.skinvariables,set_editcontrol=9099,window_id=1105,setfocus=52,text=$INFO[Window(Home).Property(CustomSearchTerm)]),00:01,silent)</onfocus>
                <onfocus condition="Window.IsVisible(1105) + !String.IsEmpty(Window(Home).Property(SearchDiscover.FocusFilter)) + String.IsEmpty(Window(Home).Property(CustomSearchTerm))">SetFocus(9094)</onfocus>
                <onfocus condition="Window.IsVisible(1105) + !String.IsEmpty(Window(Home).Property(SearchDiscover.FocusFilter)) + !String.IsEmpty(Window(Home).Property(CustomSearchTerm))">AlarmClock(refocus,RunScript(script.skinvariables,set_editcontrol=9099,window_id=1105,setfocus=9094,text=$INFO[Window(Home).Property(CustomSearchTerm)]),00:01,silent)</onfocus>
                <onfocus>ClearProperty(CustomSearchTerm,Home)</onfocus>
                <onfocus>ClearProperty(SearchDiscover.FocusFilter,Home)</onfocus>
                <onfocus condition="!Window.IsVisible(1105)">SetFocus(9094)</onfocus>

            </control>
            <control type="group" id="9990">
                <centertop>100</centertop>
                <width>580</width>
                <left>view_side</left>
                <height>80</height>
                <include condition="$EXP[Exp_HomeMenu_IsTopBar]">Animation_View_Topbar</include>

                <include condition="!Skin.HasSetting(Furniture.DisableLeftHeader)" content="Animation_ConditionalFade">
                    <param name="condition">$EXP[Exp_InfoDialogs]</param>
                </include>

                <control type="grouplist">
                    <orientation>horizontal</orientation>
                    <animation effect="slide" start="0" end="0,-15" condition="true">Conditional</animation>
                    <include content="Furniture_MainLabel">
                        <param name="label">$VAR[Label_Setting_SearchStyle]</param>
                        <param name="width">auto</param>
                    </include>
                    <include content="Furniture_MainLabel">
                        <param name="label">    </param>
                        <param name="width">auto</param>
                        <param name="textcolor">main_fg_30</param>
                        <param name="visible">[!String.IsEmpty(Control.GetLabel($PARAM[editid]).index(1)) | [Control.HasFocus($PARAM[editid]) + !Window.IsVisible(DialogKeyboard.xml)]] + !Control.HasFocus($PARAM[rowtwo])</param>
                    </include>
                    <include content="Furniture_MainLabel">
                        <param name="label">$INFO[Control.GetLabel($PARAM[editid]).index(1)]</param>
                        <param name="width">auto</param>
                        <param name="max">200</param>
                        <param name="visible">!String.IsEmpty(Control.GetLabel($PARAM[editid]).index(1)) + [!Control.HasFocus($PARAM[editid]) | Window.IsVisible(DialogKeyboard.xml)] + !Control.HasFocus($PARAM[rowtwo])</param>
                    </include>
                    <control type="group">
                        <width>200</width>
                        <visible allowhiddenfocus="true">Control.HasFocus($PARAM[editid])</visible>
                        <visible allowhiddenfocus="true">!Window.IsVisible(DialogKeyboard.xml)</visible>
                        <visible allowhiddenfocus="true">!Control.HasFocus($PARAM[rowtwo])</visible>
                        <control type="edit" id="$PARAM[editid]">
                            <texturefocus />
                            <texturenofocus />
                            <description>Search</description>
                            <font>font_midi_bold</font>
                            <textcolor>main_fg_100</textcolor>
                            <focusedcolor>main_fg_100</focusedcolor>
                            <align>left</align>
                            <textoffsetx>0</textoffsetx>
                            <width>200</width>
                            <onright>SetFocus($PARAM[rowtwo],0,absolute)</onright>
                            <onback>SetFocus($PARAM[rowtwo],0,absolute)</onback>
                            <onback condition="Window.IsMedia">$PARAM[ondown]</onback>
                            <include>Search_View_Edit_Actions_Media</include>
                            <ondown>SetFocus($PARAM[rowtwo],0,absolute)</ondown>
                            <ondown>9090</ondown>
                            <visible allowhiddenfocus="true">Control.HasFocus($PARAM[editid])</visible>
                            <visible allowhiddenfocus="true">!Window.IsVisible(DialogKeyboard.xml)</visible>
                            <visible allowhiddenfocus="true">!Control.HasFocus($PARAM[rowtwo])</visible>
                        </control>
                    </control>
                    <control type="label">
                        <width max="200">auto</width>
                        <left>-200</left>
                        <textcolor>00ffffff</textcolor>
                        <font>font_midi_bold</font>
                        <align>left</align>
                        <label>$INFO[Control.GetLabel($PARAM[editid]).index(1)]</label>
                        <visible>Control.HasFocus($PARAM[editid]) + !Window.IsVisible(DialogKeyboard.xml)</visible>
                        <visible>!Control.HasFocus($PARAM[rowtwo])</visible>
                    </control>
                    <control type="label">
                        <textcolor>00ffffff</textcolor>
                        <font>font_midi_bold</font>
                        <width>auto</width>
                        <label>|</label>
                        <visible>Control.HasFocus($PARAM[editid]) + !Window.IsVisible(DialogKeyboard.xml)</visible>
                        <visible>!Control.HasFocus($PARAM[rowtwo])</visible>
                    </control>
                    <include content="Furniture_MainLabel">
                        <param name="label">    </param>
                        <param name="width">auto</param>
                        <param name="textcolor">main_fg_30</param>
                        <param name="visible">Control.IsVisible($PARAM[rowtwo])</param>
                    </include>
                    <control type="grouplist">
                        <left>0</left>
                        <top>17</top>
                        <height>50</height>
                        <itemgap>20</itemgap>
                        <orientation>horizontal</orientation>
                        <onup>$PARAM[rowone]</onup>
                        <ondown>$PARAM[ondown]</ondown>
                        <onleft>$PARAM[rowtwo]</onleft>
                        <onright>$PARAM[rowtwo]</onright>
                        <onback condition="Window.IsMedia">$PARAM[ondown]</onback>
                        <visible>Control.IsVisible($PARAM[rowtwo])</visible>
                        <animation condition="!Container($PARAM[rowtwo]).OnNext" effect="slide" start="0" end="-32" delay="0" time="400" tween="quadratic" reversible="false">Conditional</animation>
                        <animation condition="!Container($PARAM[rowtwo]).OnPrevious" effect="slide" start="0" end="32" delay="0" time="400" tween="quadratic" reversible="false">Conditional</animation>

                        <control type="togglebutton">
                            <include>Texture_Highlight_Underline_H</include>
                            <font>font_mini_bold</font>
                            <textcolor>main_fg_100</textcolor>
                            <focusedcolor>main_fg_100</focusedcolor>
                            <textoffsetx>0</textoffsetx>
                            <label>$INFO[Container($PARAM[rowtwo]).ListItem.Label]</label>
                            <altlabel>$INFO[Container($PARAM[rowtwo]).ListItem.Label]</altlabel>
                            <width>auto</width>
                            <align>left</align>
                            <height>50</height>
                            <usealttexture>True</usealttexture>
                            <visible>Control.HasFocus($PARAM[rowtwo])</visible>
                            <animation effect="slide" start="0" end="0,-5" condition="Control.HasFocus($PARAM[rowtwo])">Conditional</animation>
                        </control>
                        <control type="label">
                            <font>font_mini</font>
                            <textcolor>main_fg_70</textcolor>
                            <width>auto</width>
                            <align>left</align>
                            <height>50</height>
                            <label>$INFO[Container($PARAM[rowtwo]).ListItem.Label]</label>
                            <visible>!Control.HasFocus($PARAM[rowtwo])</visible>
                        </control>
                        <control type="label">
                            <font>font_mini</font>
                            <textcolor>main_fg_70</textcolor>
                            <width>auto</width>
                            <align>left</align>
                            <height>50</height>
                            <label>$INFO[Container($PARAM[rowtwo]).ListItemNoWrap(1).Label]</label>
                        </control>
                        <control type="label">
                            <font>font_mini</font>
                            <textcolor>main_fg_70</textcolor>
                            <width>auto</width>
                            <align>left</align>
                            <height>50</height>
                            <label>$INFO[Container($PARAM[rowtwo]).ListItemNoWrap(2).Label]</label>
                        </control>
                    </control>
                </control>
                <include content="Search_View_Alphabet">
                    <param name="editid">$PARAM[editid]</param>
                    <param name="ondown">$PARAM[ondown]</param>
                    <param name="rowone">$PARAM[rowone]</param>
                    <param name="rowtwo">$PARAM[rowtwo]</param>
                </include>
            </control>

        </definition>
    </include>
    
    <include name="Search_View_Alphabet_Iconic_Def">
        <font>font_mini_iconic</font>
        <height>50</height>
        <textoffsety>12</textoffsety>
        <textoffsetx>-20</textoffsetx>
        <centerleft>50%</centerleft>
        <centertop>50%</centertop>
        <include>Texture_Highlight_Underline_H</include>
        <align>center</align>
        <aligny>top</aligny>
        <textcolor>main_fg_70</textcolor>
        <selectedcolor>main_fg_70</selectedcolor>
        <focusedcolor>main_fg_100</focusedcolor>
        <width>26</width>
        <hitrect x="0" y="20" w="44" h="44" />
    </include>

    <include name="Search_View_Alphabet">
        <param name="editid">9099</param>
        <param name="ondown">5090</param>
        <param name="rowone">9992</param>
        <param name="rowtwo">9993</param>
        <definition>

            <control type="grouplist">
                <top>20</top>
                <left>-10</left>
                <right>-40</right>
                <orientation>horizontal</orientation>
                <height>80</height>
                <visible>!Control.IsVisible($PARAM[rowtwo])</visible>

                <control type="group">
                    <width>50</width>
                    <control type="label">
                        <description>Filter</description>
                        <label>&#xf0b0;</label>
                        <include>Search_View_Alphabet_Iconic_Def</include>
                    </control>
                </control>

                <control type="group">
                    <left>-6</left>
                    <width>56</width>
                    <control type="label">
                        <description>Alphabet</description>
                        <label>ABC</label>
                        <font>font_hint_iconic</font>
                        <textoffsety>14</textoffsety>
                        <include>Search_View_Alphabet_Iconic_Def</include>
                    </control>
                    <control type="label">
                        <description>Alphabet</description>
                        <label>&#x2190;</label>
                        <font>font_itsy_iconic</font>
                        <textoffsety>29</textoffsety>
                        <centerleft>37%</centerleft>
                        <include>Search_View_Alphabet_Iconic_Def</include>
                    </control>
                    <control type="label">
                        <description>Alphabet</description>
                        <label>&#x2192;</label>
                        <font>font_itsy_iconic</font>
                        <textoffsety>29</textoffsety>
                        <centerleft>63%</centerleft>
                        <include>Search_View_Alphabet_Iconic_Def</include>
                    </control>
                </control>

                <control type="group">
                    <width>50</width>
                    <control type="label">
                        <description>Keyboard</description>
                        <label>&#xf11c;</label>
                        <include>Search_View_Alphabet_Iconic_Def</include>
                    </control>
                </control>


                <control type="group">
                    <width>50</width>
                    <control type="label">
                        <description>Clear</description>
                        <label>&#xf071;</label>
                        <include>Search_View_Alphabet_Iconic_Def</include>
                    </control>
                </control>


            </control>

            <control type="grouplist" id="9090">
                <top>20</top>
                <left>-10</left>
                <right>-40</right>
                <orientation>horizontal</orientation>
                <height>80</height>
                <onup>$PARAM[editid]</onup>
                <ondown>$PARAM[ondown]</ondown>
                <onback condition="Window.IsMedia">$PARAM[ondown]</onback>
                <include>Search_View_Edit_Actions_Media</include>
                <visible allowhiddenfocus="true">Control.IsVisible($PARAM[rowtwo])</visible>

                <control type="group">
                    <width>50</width>
                    <control type="button" id="9094">
                        <onleft>SetFocus($PARAM[rowone],9999,absolute)</onleft>
                        <onleft>9092</onleft>
                        <onright>SetFocus($PARAM[rowone],0,absolute)</onright>
                        <onup>$PARAM[editid]</onup>
                        <ondown>$PARAM[ondown]</ondown>
                        <onback condition="Window.IsMedia">$PARAM[ondown]</onback>
                        <description>Filter</description>
                        <label>&#xf0b0;</label>
                        <include>Search_View_Alphabet_Iconic_Def</include>
                        <include>Search_Filter_MouseButton_OnClick</include>
                    </control>
                </control>

                <control type="group">
                    <left>-4</left>
                    <width>408</width>
                    <control type="fixedlist" id="$PARAM[rowone]">
                        <orientation>horizontal</orientation>
                        <focusposition>2</focusposition>
                        <movement>9</movement>
                        <onleft>9094</onleft>
                        <onup>$PARAM[editid]</onup>
                        <ondown>$PARAM[ondown]</ondown>
                        <onback condition="Window.IsMedia">$PARAM[ondown]</onback>
                        <onright>9093</onright>

                        <itemlayout width="34">
                            <control type="label">
                                <font>font_mini</font>
                                <label>$INFO[ListItem.Label]</label>
                                <textcolor>main_fg_70</textcolor>
                                <align>center</align>
                            </control>
                        </itemlayout>

                        <focusedlayout width="34">

                            <control type="group">
                                <visible>Control.HasFocus($PARAM[rowone])</visible>
                                <control type="label">
                                    <font>font_mini_bold</font>
                                    <label>$INFO[ListItem.Label]</label>
                                    <textcolor>main_fg_100</textcolor>
                                    <align>center</align>
                                </control>
                                <control type="image">
                                    <include>Texture_Highlight_Scrollbar_H</include>
                                    <height>scrollbar_w</height>
                                    <centerbottom>18.5</centerbottom>
                                    <width>75%</width>
                                    <centerleft>50%</centerleft>
                                </control>
                            </control>
                            <control type="label">
                                <font>font_mini</font>
                                <label>$INFO[ListItem.Label]</label>
                                <textcolor>main_fg_70</textcolor>
                                <align>center</align>
                                <visible>![Control.HasFocus($PARAM[rowone])]</visible>
                            </control>
                        </focusedlayout>

                        <content>
                            <item>
                                <label>A</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_a</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>B</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_b</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>C</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_c</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>D</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_d</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>E</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_e</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>F</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_f</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>G</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_g</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>H</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_h</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>I</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_i</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>J</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_j</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>K</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_k</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>L</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_l</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>M</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_m</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>N</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_n</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>O</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_o</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>P</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_p</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>Q</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_q</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>R</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_r</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>S</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_s</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>T</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_t</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>U</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_u</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>V</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_v</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>W</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_w</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>X</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_x</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>Y</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_y</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>Z</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click_z</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                            <item>
                                <label>_</label>
                                <onclick>SetFocus($PARAM[editid])</onclick>
                                <include>Object_SearchLetter_Click__</include>
                                <onclick>SetFocus($PARAM[rowone])</onclick>
                            </item>
                        </content>
                    </control>
                </control>

                <control type="group">
                    <width>50</width>
                    <control type="button" id="9093">
                        <onleft>SetFocus($PARAM[rowone],9999,absolute)</onleft>
                        <onright>9091</onright>
                        <description>Keyboard</description>
                        <label>&#xf11c;</label>
                        <include>Search_View_Alphabet_Iconic_Def</include>
                        <onclick>SetFocus($PARAM[editid])</onclick>
                        <onclick>Action(Select)</onclick>
                        <onclick>SetFocus(9093)</onclick>
                        <onup>$PARAM[editid]</onup>
                        <ondown>$PARAM[ondown]</ondown>
                        <onback condition="Window.IsMedia">$PARAM[ondown]</onback>
                    </control>
                </control>

                <control type="group">
                    <width>50</width>
                    <control type="button" id="9091">
                        <description>Backspace</description>
                        <label>&#xf55a;</label>
                        <include>Search_View_Alphabet_Iconic_Def</include>
                        <onclick>SetFocus($PARAM[editid])</onclick>
                        <include>Object_SearchLetter_Click_&lt;</include>
                        <onclick>SetFocus(9091)</onclick>
                        <onleft>9093</onleft>
                        <onup>$PARAM[editid]</onup>
                        <ondown>$PARAM[ondown]</ondown>
                        <onback condition="Window.IsMedia">$PARAM[ondown]</onback>
                        <onright>9092</onright>
                    </control>
                </control>

                <control type="group">
                    <width>50</width>
                    <control type="button" id="9092">
                        <description>Clear</description>
                        <label>&#xf071;</label>
                        <include>Search_View_Alphabet_Iconic_Def</include>
                        <onclick>SetFocus($PARAM[editid])</onclick>
                        <onclick>RunScript(script.skinvariables,set_editcontrol=$PARAM[editid],window_id=$PARAM[windowid],setfocus=$PARAM[returnid])</onclick>
                        <onleft>9091</onleft>
                        <onup>$PARAM[editid]</onup>
                        <ondown>$PARAM[ondown]</ondown>
                        <onback condition="Window.IsMedia">$PARAM[ondown]</onback>
                        <onright>SetFocus($PARAM[rowone],0,absolute)</onright>
                        <onright>9094</onright>
                    </control>
                </control>
            </control>

            <control type="fixedlist" id="$PARAM[rowtwo]">
                <orientation>horizontal</orientation>
                <top>60</top>
                <height>80</height>
                <hitrect x="80" y="0" w="546" h="40" />
                <focusposition>0</focusposition>
                <movement>0</movement>
                <left>1</left>
                <width>546</width>
                <onback>SetFocus($PARAM[rowtwo],0,absolute)</onback>
                <onback condition="Window.IsMedia">$PARAM[ondown]</onback>
                <include>Search_View_Edit_Actions_Media</include>
                <ondown>SetFocus($PARAM[rowtwo],0,absolute)</ondown>
                <ondown>$PARAM[rowone]</ondown>
                <onleft>SetFocus($PARAM[rowtwo],0,absolute)</onleft>
                <onleft>$PARAM[editid]</onleft>
                <onright>noop</onright>
                <visible>!$EXP[Exp_MediaFilter_IsActive]</visible>
                <visible allowhiddenfocus="true">ControlGroup(9090).HasFocus() | Control.HasFocus($PARAM[rowtwo]) | Control.HasFocus($PARAM[editid])</visible>
                <onclick>Setfocus($PARAM[rowtwo],0,absolute)</onclick>
                <onclick>SetFocus($PARAM[editid])</onclick>
                <onclick>RunScript(script.skinvariables,set_editcontrol=$PARAM[editid],window_id=1105,setfocus=9094,text=$INFO[Container($PARAM[rowtwo]).ListItem.Label])</onclick>
                <itemlayout width="155" />
                <focusedlayout width="256" />
                <content limit="9">$VAR[Search_Filter_AutoComplete]</content>
            </control>
        </definition>
    </include>
    
    <include name="Search_Filter_MouseButton_OnClick">
        <onclick>SetFocus(8000)</onclick>                
        <onclick condition="Window.IsMedia">SetFocus(64)</onclick>
    </include>
    
    <include name="Search_View_Edit_Actions_Media">
        <onup>SetFocus(64)</onup>
    </include>

</includes>