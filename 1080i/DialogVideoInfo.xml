<?xml version="1.0" encoding="UTF-8"?>
<window type="dialog">
    <include content="Object_DefaultControl">
        <param name="always">true</param>
        <param name="defaultcontrol">8000</param>
    </include>
    
    <include content="Object_MenuControl" condition="Skin.String(InfoDialog.NavigationStyle,Wall)">
        <param name="menucontrol">9000</param>
    </include>
    <menucontrol>4000</menucontrol>

    <include condition="!Skin.String(InfoDialog.NavigationStyle,Wall)">DialogInfo_Onload</include>
    <include condition="Skin.String(InfoDialog.NavigationStyle,Wall)">DialogInfo_Onload_Wall</include>

    <onload>SetProperty(TMDbHelper.EnableExtendedProperties,True)</onload>
    
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + !String.IsEmpty(ListItem.Trailer) + !Player.HasMedia">SetProperty(PlayTrailerTitle,$VAR[Label_Title],Home)</onload>
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + !String.IsEmpty(ListItem.Trailer) + !Player.HasMedia + Skin.HasSetting(Trailers.Source.IMDb)">SetProperty(PlayTrailerDBType,$INFO[Window(Home).Property(TMDBHelper.ListItem.base_dbtype)],Home)</onload>
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + !String.IsEmpty(ListItem.Trailer) + !Player.HasMedia + Skin.HasSetting(Trailers.Source.IMDb)">SetProperty(PlayTrailerSeason,$INFO[Window(Home).Property(TMDBHelper.ListItem.Season)],Home)</onload>
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + !String.IsEmpty(ListItem.Trailer) + !Player.HasMedia + Skin.HasSetting(Trailers.Source.IMDb)">SetProperty(PlayTrailerIMDbID,$INFO[Window(Home).Property(TMDBHelper.ListItem.imdb_id)],Home)</onload>
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + !String.IsEmpty(ListItem.Trailer) + !Player.HasMedia + Skin.HasSetting(Trailers.Source.IMDb)">SetProperty(PlayTrailerTVIMDbID,$INFO[Window(Home).Property(TMDBHelper.ListItem.tvshow.imdb_id)],Home)</onload>
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + !String.IsEmpty(ListItem.Trailer) + !Player.HasMedia + !Skin.HasSetting(Trailers.Source.IMDb)">SetProperty(PlayTrailer,$ESCINFO[ListItem.Trailer],Home)</onload>
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + !String.IsEmpty(ListItem.Trailer) + !Player.HasMedia + Skin.HasSetting(Trailers.Source.IMDb)">SetProperty(PlayTrailer,$VAR[Path_IMDb_Trailers],Home)</onload>
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + !String.IsEmpty(ListItem.Trailer) + !Player.HasMedia">ActivateWindow(1123)</onload>    
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + Player.HasVideo + !String.IsEmpty(ListItem.Trailer) + String.IsEqual(Window(Home).Property(AutoTrailer),Player.FileNameAndPath)">ActivateWindow(1123)</onload>
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Player.HasVideo + !VideoPlayer.IsFullScreen + !String.IsEqual(Window(Home).Property(AutoTrailer),Player.FileNameAndPath)">Stop</onload>

    <onload condition="Skin.String(InfoDialog.NavigationStyle,Wall)">SetProperty(BaseID,$INFO[ListItem.Label]$INFO[ListItem.FolderPath])</onload>
    
    <controls>
        <include content="Object_Hidden_Button"  condition="!Skin.String(InfoDialog.NavigationStyle,Wall)">
            <param name="id">8000</param>
            <ondown condition="!String.IsEqual(ListItem.Property(tmdb_type),person)">4000</ondown>
            <onfocus condition="!String.IsEqual(ListItem.Property(tmdb_type),person)">SetFocus(4001)</onfocus>
            <onfocus condition="String.IsEqual(ListItem.Property(tmdb_type),person)">SetFocus(5098)</onfocus>
            <onright condition="!String.IsEqual(ListItem.Property(tmdb_type),person)">4001</onright>
            <onleft condition="!String.IsEqual(ListItem.Property(tmdb_type),person)">4001</onleft>
            <onup>61</onup>
            <onclick condition="!String.IsEqual(ListItem.Property(tmdb_type),person) + ListItem.HasVideoVersions">SetFocus(8908)</onclick>
            <onclick condition="!String.IsEqual(ListItem.Property(tmdb_type),person) + !ListItem.HasVideoVersions">SendClick(8)</onclick>
            <onclick condition="!String.IsEqual(ListItem.Property(tmdb_type),person) + !ListItem.HasVideoVersions">RunScript(plugin.video.themoviedb.helper,close_dialog=1190)</onclick>
        </include>
        
        <include content="Object_Hidden_Button"  condition="Skin.String(InfoDialog.NavigationStyle,Wall)">
            <param name="id">8000</param>
            <ondown>5000</ondown>
            <onfocus condition="!String.IsEqual(ListItem.Property(tmdb_type),person)">SetFocus(4001)</onfocus>
            <onright condition="!String.IsEqual(ListItem.Property(tmdb_type),person)">4001</onright>
            <onleft condition="!String.IsEqual(ListItem.Property(tmdb_type),person)">4001</onleft>
            <onleft condition="String.IsEqual(ListItem.Property(tmdb_type),person)">SetFocus(61)</onleft>
            <onright condition="String.IsEqual(ListItem.Property(tmdb_type),person)">SetFocus(61)</onright>
            <onup>61</onup>
            <onfocus>ClearProperty(Background.DialogInfo.HideArtwork,Home)</onfocus>
            <onclick condition="!String.IsEqual(ListItem.Property(tmdb_type),person) + ListItem.HasVideoVersions">SetFocus(8908)</onclick>
            <onclick condition="!String.IsEqual(ListItem.Property(tmdb_type),person) + !ListItem.HasVideoVersions">SendClick(8)</onclick>
            <onclick condition="!String.IsEqual(ListItem.Property(tmdb_type),person) + !ListItem.HasVideoVersions">RunScript(plugin.video.themoviedb.helper,close_dialog=1190)</onclick>
        </include>
        
        <include>Defs_Background_Loader</include>
        
        <include condition="Window.IsVisible(fullscreenvideo)">OSD_VideoBackground_Dialog</include>
        
        <!-- Standard -->
        
        <include content="Object_Control" condition="!Skin.String(InfoDialog.NavigationStyle,Wall)">
            <param name="control">group</param>
            <include content="Animation_ConditionalFade">
                <param name="condition">!Control.HasFocus(513) + !Control.HasFocus(555) + !Control.HasFocus(556) + !Control.HasFocus(557) + !Control.HasFocus(558) + !Control.HasFocus(514) + !Control.HasFocus(515)</param>
            </include>
            <control type="image">
                <texture colordiffuse="$VAR[ColorBackground]">common/white.png</texture>
            </control>
            <include>Background</include>
        </include>
        
        <include content="Object_Control" condition="!Skin.String(InfoDialog.NavigationStyle,Wall)">
            <param name="control">group</param>
            <control type="group">
                <include>DialogInfo_Body_Group</include>
                <control type="group">
                    <include condition="!String.IsEqual(ListItem.Property(tmdb_type),person)">DialogInfo_InfoPanel_Group</include>
                </control>
                <control type="group">
                    <include>DialogInfo_InfoDetails_Group</include>
                    <include condition="!String.IsEqual(ListItem.Property(tmdb_type),person)">DialogInfo_VideoInfo</include>
                    <include condition="String.IsEqual(ListItem.Property(tmdb_type),person)">DialogInfo_PersonInfo</include>
                </control>
                <control type="group">
                    <top>430</top>
                    <left>-200</left>
                    <right>-80</right>
                    <visible>![Window.IsActive(1121)]</visible>
                    <control type="group">
                        <right>40</right>
                        <bottom>-40</bottom>
                        <height>view_poster_itemlayout_h</height>
                        <visible>String.IsEqual(Window.Property(DetailsView),Critics) | String.IsEmpty(Window.Property(DetailsView))</visible>
                        <visible>![Control.HasFocus(7000) |  Control.HasFocus(513) | Control.HasFocus(555) | Control.HasFocus(556)] | [Control.HasFocus(7000) + [[String.IsEmpty(Window.Property(Director_Query)) + [String.IsEqual(Container(7000).ListItem.Label,$LOCALIZE[20339])]] | [String.IsEmpty(Window.Property(Writer_Query)) + [String.IsEqual(Container(7000).ListItem.Label,$LOCALIZE[20417])]] | [String.IsEmpty(Window.Property(Creator_Query)) + [String.IsEqual(Container(7000).ListItem.Label,$LOCALIZE[31065])]] | [String.IsEmpty(Window.Property(Studio_Query)) + [String.IsEqual(Container(7000).ListItem.Label,$LOCALIZE[572])]] | [String.IsEmpty(Window.Property(Set_Query)) + [String.IsEqual(Container(7000).ListItem.Label,$LOCALIZE[31236])]]]]</visible>
                        <include content="DialogInfo_Video_SideArt">
                            <param name="visible">![String.IsEqual(ListItem.DBType,musicvideo)]</param>
                        </include>
                        <include content="DialogInfo_Music_SideArt">
                            <param name="visible">String.IsEqual(ListItem.DBType,musicvideo)</param>
                        </include>
                    </control>
                </control>
            </control>
            <include>DialogInfo_ArtworkGallery</include>
        </include>
        
        <!-- Wall -->
        
        <include content="Object_Control" condition="Skin.String(InfoDialog.NavigationStyle,Wall)">
            <param name="control">group</param>
            <include>DialogInfo_Main_Group_Wall</include>
            <control type="group">
                <include>DialogInfo_Body_Group_Wall</include>
                <control type="group">
                    <include content="DialogInfo_Info_Group_Wall" condition="![Skin.String(InfoDialogWall.Layout,Flix) + !String.IsEqual(ListItem.Property(tmdb_type),person)]">
                        <param name="extended_include">DialogInfo_VideoDetails_Wall</param>
                        <param name="plotwidth">90%</param>
                    </include>
                    <include content="DialogInfo_Info_Group_Wall" condition="Skin.String(InfoDialogWall.Layout,Flix) + !String.IsEqual(ListItem.Property(tmdb_type),person)">
                        <param name="indent">view_pad</param>
                        <param name="indent_large">view_pad</param>
                        <param name="extended_include">DialogInfo_VideoDetails_Wall</param>
                        <param name="plotwidth">info_plot_w</param>
                    </include>
                </control>
            </control>
        </include>
        
        <include content="Object_Control" condition="Skin.String(InfoDialog.NavigationStyle,Wall)">
            <param name="control">group</param>
            <include content="Animation_Slide_In">
                <param name="type">WindowOpen</param>
                <param name="posy">160</param>
                <param name="delay">400</param>
            </include>
            <include content="Animation_Slide_Out">
                <param name="type">WindowClose</param>
                <param name="posy">160</param>
            </include>
            <include>DialogInfo_Widget_Group_Wall</include>
            <control type="grouplist" id="5000">
                <include>DialogInfo_Widget_Grouplist_Wall</include>

                <onup>8000</onup>
                <onback>8000</onback>
                <ondown>330</ondown>

                <include condition="!String.IsEqual(ListItem.Property(tmdb_type),person)">DialogInfo_VideoWidgets_Wall</include>
                <include condition="String.IsEqual(ListItem.Property(tmdb_type),person)">DialogInfo_PersonWidgets_Wall</include>
                <include condition="!Skin.HasSetting(VideoInfo.Widgets.DisableGallery)">DialogInfo_GalleryWidget_Wall</include>


                <include>Widget_End_Bumper</include>
            </control>
            <control type="group">
                <left>120</left>
                <include condition="String.IsEqual(ListItem.Property(tmdb_type),person)">DialogInfo_ButtonGroup_Recommendations</include>
            </control>
        </include>

        <include>DialogInfo_Furniture</include>
        <include>TouchMode_Info_Zones</include>
        <include condition="!Skin.String(InfoDialog.NavigationStyle,Wall)">DialogInfo_PlotBox</include>
        <include content="DialogInfo_PlotBox" condition="Skin.String(InfoDialog.NavigationStyle,Wall)">
            <param name="include_movement">DialogInfo_PlotBox_OnMove_Wall</param>
        </include>
        
        
        <include content="DialogSelect_VideoVersions_Main" condition="ListItem.HasVideoVersions">
            <param name="id">8908</param>
            <param name="scrollbar_id">8961</param>
            <param name="include_content">DialogInfo_VideoVersions_Content</param>
            <param name="visible">[Control.HasFocus(8908) | Control.HasFocus(8961)]</param>
            <param name="label">$LOCALIZE[40000]</param>
        </include>
        
        <include content="Object_Hidden_Button">
            <param name="id">6</param>
        </include>
        <include content="Object_Hidden_Button">
            <param name="id">7</param>
        </include>
        <include content="Object_Hidden_Button">
            <param name="id">10</param>
        </include>
        <include content="Object_Hidden_Button">
            <param name="id">15</param>
        </include>
    </controls>
</window>
