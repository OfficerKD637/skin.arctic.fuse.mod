<?xml version="1.0" encoding="UTF-8"?>
<window type="dialog">
    <include content="Object_DefaultControl">
        <param name="always">true</param>
        <param name="defaultcontrol">8000</param>
    </include>

    <menucontrol>4000</menucontrol>

    <include>DialogInfo_Onload</include>

    <onload>SetProperty(TMDbHelper.EnableExtendedProperties,True)</onload>
    
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + !String.IsEmpty(ListItem.Trailer) + !Player.HasMedia">SetProperty(PlayTrailerTitle,$VAR[Label_Title],Home)</onload>
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + !String.IsEmpty(ListItem.Trailer) + !Player.HasMedia + Skin.HasSetting(Trailers.Source.IMDb)">SetProperty(PlayTrailerDBType,$INFO[Window(Home).Property(TMDBHelper.ListItem.base_dbtype)],Home)</onload>
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + !String.IsEmpty(ListItem.Trailer) + !Player.HasMedia + Skin.HasSetting(Trailers.Source.IMDb)">SetProperty(PlayTrailerSeason,$INFO[Window(Home).Property(TMDBHelper.ListItem.Season)],Home)</onload>
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + !String.IsEmpty(ListItem.Trailer) + !Player.HasMedia + Skin.HasSetting(Trailers.Source.IMDb)">SetProperty(PlayTrailerIMDbID,$INFO[Window(Home).Property(TMDBHelper.ListItem.imdb_id)],Home)</onload>
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + !String.IsEmpty(ListItem.Trailer) + !Player.HasMedia + Skin.HasSetting(Trailers.Source.IMDb)">SetProperty(PlayTrailerTVIMDbID,$INFO[Window(Home).Property(TMDBHelper.ListItem.tvshow.imdb_id)],Home)</onload>
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + !String.IsEmpty(ListItem.Trailer) + !Player.HasMedia + !Skin.HasSetting(Trailers.Source.IMDb)">SetProperty(PlayTrailer,$ESCINFO[ListItem.Trailer],Home)</onload>
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + !String.IsEmpty(ListItem.Trailer) + !Player.HasMedia + Skin.HasSetting(Trailers.Source.IMDb)">SetProperty(PlayTrailer,$VAR[Path_IMDb_Trailers],Home)</onload>
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + !String.IsEmpty(ListItem.Trailer) + !Player.HasMedia">ActivateWindow(1123)</onload>    
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Skin.HasSetting(Background.DisableVideo) + Player.HasVideo + !String.IsEmpty(ListItem.Trailer) + String.IsEqual(Window(Home).Property(AutoTrailer),Player.FileNameAndPath)">ActivateWindow(1123)</onload>
    <onload condition="Skin.HasSetting(Trailers.EnableAutoPlayback.Info) + Player.HasVideo + !VideoPlayer.IsFullScreen + !String.IsEqual(Window(Home).Property(AutoTrailer),Player.FileNameAndPath)">Stop</onload>

    <controls>
        
        <control type="button" id="8000">
            <texturenofocus />
            <texturefocus />
            <font />
            <ondown condition="!String.IsEqual(ListItem.Property(tmdb_type),person)">4000</ondown>
            <onfocus condition="!String.IsEqual(ListItem.Property(tmdb_type),person)">SetFocus(4001)</onfocus>
            <onfocus condition="String.IsEqual(ListItem.Property(tmdb_type),person)">SetFocus(5098)</onfocus>
            <onright condition="!String.IsEqual(ListItem.Property(tmdb_type),person)">4001</onright>
            <onleft condition="!String.IsEqual(ListItem.Property(tmdb_type),person)">4001</onleft>
            <onup>61</onup>
            <onclick condition="!String.IsEqual(ListItem.Property(tmdb_type),person) + ListItem.HasVideoVersions">SetFocus(8908)</onclick>
            <onclick condition="!String.IsEqual(ListItem.Property(tmdb_type),person) + !ListItem.HasVideoVersions">SendClick(8)</onclick>
            <onclick condition="!String.IsEqual(ListItem.Property(tmdb_type),person) + !ListItem.HasVideoVersions">RunScript(plugin.video.themoviedb.helper,close_dialog=1190)</onclick>
        </control>
        
        <include>Defs_Background_Loader</include>
        
        <include condition="Window.IsVisible(fullscreenvideo)">OSD_VideoBackground_Dialog</include>
        
        <control type="group">
            <include content="Animation_ConditionalFade">
                <param name="condition">!Control.HasFocus(513) + !Control.HasFocus(555) + !Control.HasFocus(556) + !Control.HasFocus(557) + !Control.HasFocus(558) + !Control.HasFocus(514) + !Control.HasFocus(515)</param>
            </include>
            <control type="image">
                <texture colordiffuse="$VAR[ColorBackground]">common/white.png</texture>
            </control>
            <include>Background</include>
        </control>

        <control type="group">
            <control type="group">
                <include>DialogInfo_Body_Group</include>
                <control type="group">
                    <include condition="!String.IsEqual(ListItem.Property(tmdb_type),person)">DialogInfo_InfoPanel_Group</include>
                </control>
                <control type="group">
                    <include>DialogInfo_InfoDetails_Group</include>
                    <include condition="!String.IsEqual(ListItem.Property(tmdb_type),person)">DialogInfo_VideoInfo</include>
                    <include condition="String.IsEqual(ListItem.Property(tmdb_type),person)">DialogInfo_PersonInfo</include>
                </control>
            </control>
            <include>DialogInfo_ArtworkGallery</include>
        </control>

        <include>DialogInfo_Furniture</include>
        <include>TouchMode_Info_Zones</include>
        <include>DialogInfo_PlotBox</include>
        
        
        <include content="DialogSelect_VideoVersions_Main" condition="ListItem.HasVideoVersions">
            <param name="id">8908</param>
            <param name="scrollbar_id">8961</param>
            <param name="include_content">DialogInfo_VideoVersions_Content</param>
            <param name="visible">[Control.HasFocus(8908) | Control.HasFocus(8961)]</param>
            <param name="label">$LOCALIZE[40000]</param>
        </include>
        
        <include content="Object_Hidden_Button">
            <param name="id">6</param>
        </include>
        <include content="Object_Hidden_Button">
            <param name="id">7</param>
        </include>
        <include content="Object_Hidden_Button">
            <param name="id">10</param>
        </include>
        <include content="Object_Hidden_Button">
            <param name="id">15</param>
        </include>
    </controls>
</window>
